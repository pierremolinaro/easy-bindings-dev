#import "PMTransientDependancyManager.h"
#import "%!CLASS_NAME%.h"
%
if [TRANSIENT_LIST_FOR_IMPLEMENTATION length] > 0 then
  %#import "%!CLASS_NAME%-transient-computations.h"\n%
end if
foreach INCLUSION_SET do
  %#import "%!key%.h"\n%
end foreach
%
//----------------------------------------------------------------------------*

@implementation %!CLASS_NAME%

//----------------------------------------------------------------------------*
//    Synthesize properties                                                   *
//----------------------------------------------------------------------------*

%foreach PROPERTY_LIST_FOR_IMPLEMENTATION do
%@synthesize %!mPropertyName% ;\n%
end foreach
%
//----------------------------------------------------------------------------*
//    Init Method                                                             *
//----------------------------------------------------------------------------*

%foreach ALL_PROPERTIES_FOR_INIT_METHOD_HEADER
  before %- (id) %?^%initWith%
  do ![mPropertyName stringByCapitalizingFirstCharacter]%: (%![mType ocTypeName]%) in%![mPropertyName stringByCapitalizingFirstCharacter]
  between %\n%!^%with%
  after % {\n%
end foreach
if [INHERITED_PROPERTIES_FOR_SUPER_INIT_CALL length] == 0 then
  %  self = [super init] ;\n%
else
foreach INHERITED_PROPERTIES_FOR_SUPER_INIT_CALL
  before %  self = [super\n%
    %    initWith%
  do ![mPropertyName stringByCapitalizingFirstCharacter]%:in%![mPropertyName stringByCapitalizingFirstCharacter]
  between %\n    with%
  after %\n  ] ;\n%
end foreach
end if
%  if (self) {  
%foreach PROPERTY_LIST_FOR_IMPLEMENTATION do
  %    %!mPropertyName% = in%![mPropertyName stringByCapitalizingFirstCharacter]% ;\n%
end foreach
%    [self pmInstallObserversForTransients] ;
  }
  return self ;
}

%!generateTransientImplementation [!CLASS_NAME !TRANSIENT_LIST_FOR_IMPLEMENTATION !TRANSIENT_DEPENDENCY_ARCS !"class"]
%//----------------------------------------------------------------------------*

