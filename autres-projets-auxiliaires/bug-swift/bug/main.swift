//
//  main.swift
//  bug
//
//  Created by Pierre Molinaro on 21/11/2015.
//  Copyright © 2015 Pierre Molinaro. All rights reserved.
//
//—————————————————————————————————————————————————————————————————————————————————————————————————————————————————————*

import Foundation

//—————————————————————————————————————————————————————————————————————————————————————————————————————————————————————*

protocol MyProtocol : class {
  var myVar : Int { get }
}

//—————————————————————————————————————————————————————————————————————————————————————————————————————————————————————*

class MyClass : NSObject, MyProtocol {
  var myVar : Int = 0
  
  init (v : Int) {
    myVar = v
  }
}

//—————————————————————————————————————————————————————————————————————————————————————————————————————————————————————*

func sum (_ array : [MyProtocol]) -> Int {
  var result = 0
  for object in array {
    result += object.myVar
  }
  return result
}

//—————————————————————————————————————————————————————————————————————————————————————————————————————————————————————*
//   MAIN
//—————————————————————————————————————————————————————————————————————————————————————————————————————————————————————*

var array = [MyClass] ()
array.append (MyClass (v: 1))
let s = sum (array)
print ("sum \(s)")

//—————————————————————————————————————————————————————————————————————————————————————————————————————————————————————*

