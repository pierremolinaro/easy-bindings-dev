//-----------------------------------------------------------------------------*
//                                                                             *
//                         File 'enumGeneration.cpp'                           *
//                         Generated by version 2.6.0                          *
//                       june 23th, 2014, at 21h38'43"                         *
//                                                                             *
//-----------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

#include "enumGeneration.h"
#include "galgas2/C_Compiler.h"
#include "galgas2/C_galgas_io.h"
#include "galgas2/C_galgas_CLI_Options.h"
#include "utilities/C_PrologueEpilogue.h"

//-----------------------------------------------------------------------------*

#include "easyBindings_options.h"

//-----------------------------------------------------------------------------*

#ifndef DO_NOT_GENERATE_CHECKINGS
  #define SOURCE_FILE_AT_LINE(line) "enumGeneration.gSemantics", line
  #define COMMA_SOURCE_FILE_AT_LINE(line) , SOURCE_FILE_AT_LINE(line)
#else
  #define SOURCE_FILE_AT_LINE(line) 
  #define COMMA_SOURCE_FILE_AT_LINE(line) 
#endif

//-----------------------------------------------------------------------------*
//                                                                             *
//                    Filewrapper 'enumGenerationTemplate'                     *
//                                                                             *
//-----------------------------------------------------------------------------*

extern const cDirectoryWrapper gWrapperDirectory_0_enumGenerationTemplate ;

//-----------------------------------------------------------------------------*
//                                                                             *
//        Filewrapper template 'enumGenerationTemplate enumDeclaration'        *
//                                                                             *
//-----------------------------------------------------------------------------*

GALGAS_string filewrapperTemplate_enumGenerationTemplate_enumDeclaration (C_Compiler * inCompiler,
                                                                          const GALGAS_string & in_ENUM_5F_TYPE_5F_NAME,
                                                                          const GALGAS_lstringlist & in_CONSTANT_5F_ORDERED_5F_LIST
                                                                          COMMA_LOCATION_ARGS) ;

//-----------------------------------------------------------------------------*
//                                                                             *
//        Filewrapper template 'enumGenerationTemplate enumGeneration'         *
//                                                                             *
//-----------------------------------------------------------------------------*

GALGAS_string filewrapperTemplate_enumGenerationTemplate_enumGeneration (C_Compiler * inCompiler,
                                                                         const GALGAS_string & in_ENUM_5F_TYPE_5F_NAME,
                                                                         const GALGAS_lstringlist & in_CONSTANT_5F_ORDERED_5F_LIST
                                                                         COMMA_LOCATION_ARGS) ;

//-----------------------------------------------------------------------------*
//                                                                             *
//     Filewrapper template 'enumGenerationTemplate enumGenerationInSwift'     *
//                                                                             *
//-----------------------------------------------------------------------------*

GALGAS_string filewrapperTemplate_enumGenerationTemplate_enumGenerationInSwift (C_Compiler * inCompiler,
                                                                                const GALGAS_string & in_ENUM_5F_TYPE_5F_NAME,
                                                                                const GALGAS_lstringlist & in_CONSTANT_5F_ORDERED_5F_LIST
                                                                                COMMA_LOCATION_ARGS) ;

//-----------------------------------------------------------------------------*
//                                                                             *
//                    Filewrapper 'enumGenerationTemplate'                     *
//                                                                             *
//-----------------------------------------------------------------------------*

//--- All files of '' directory

static const cRegularFileWrapper * gWrapperAllFiles_enumGenerationTemplate_0 [1] = {
  NULL
} ;

//--- All sub-directories of '' directory

static const cDirectoryWrapper * gWrapperAllDirectories_enumGenerationTemplate_0 [1] = {
  NULL
} ;

//--- Directory ''

const cDirectoryWrapper gWrapperDirectory_0_enumGenerationTemplate (
  "",
  0,
  gWrapperAllFiles_enumGenerationTemplate_0,
  0,
  gWrapperAllDirectories_enumGenerationTemplate_0
) ;


//-----------------------------------------------------------------------------*
//                                                                             *
//        Filewrapper template 'enumGenerationTemplate enumDeclaration'        *
//                                                                             *
//-----------------------------------------------------------------------------*

GALGAS_string filewrapperTemplate_enumGenerationTemplate_enumDeclaration (C_Compiler * /* inCompiler */,
                                                                          const GALGAS_string & in_ENUM_5F_TYPE_5F_NAME,
                                                                          const GALGAS_lstringlist & in_CONSTANT_5F_ORDERED_5F_LIST
                                                                          COMMA_UNUSED_LOCATION_ARGS) {
  C_String result ;
  result << "#import <Foundation/Foundation.h>\n"
    "\n"
    "//----------------------------------------------------------------------------*\n"
    "\n"
    "typedef enum : NSInteger {\n" ;
  GALGAS_uint index_175_ (0) ;
  if (in_CONSTANT_5F_ORDERED_5F_LIST.isValid ()) {
    cEnumerator_lstringlist enumerator_175 (in_CONSTANT_5F_ORDERED_5F_LIST, kEnumeration_up) ;
    while (enumerator_175.hasCurrentObject ()) {
      result << "  " ;
      result << enumerator_175.current_mValue (HERE).mAttribute_string.stringValue () ;
      if (enumerator_175.hasNextObject ()) {
        result << ", \n" ;
      }
      index_175_.increment () ;
      enumerator_175.gotoNextObject () ;
    }
  }
  result << "\n"
    "} " ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << " ;\n"
    "\n"
    "//-----------------------------------------------------------------------------*\n"
    "\n"
    "NSString * convert" ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << "ValueToString (NSNumber * inValue) ;\n"
    "\n"
    "//-----------------------------------------------------------------------------*\n"
    "\n"
    "void store" ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << "InDictionary (const " ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << " inValue,\n"
    "                               NSString * inKey,\n"
    "                               NSMutableDictionary * ioDictionary) ;\n"
    "\n"
    "//-----------------------------------------------------------------------------*\n"
    "\n" ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << " read" ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << "FromDictionary (NSString * inKey,\n"
    "                                NSDictionary * inDictionary) ;\n"
    "\n"
    "//-----------------------------------------------------------------------------*\n"
    "\n"
    "BOOL equal" ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << "s (const " ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << " inValue1,\n"
    "                              const " ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << " inValue2) ;\n"
    "\n"
    "//----------------------------------------------------------------------------*\n"
    "\n" ;
  return GALGAS_string (result) ;
}

//-----------------------------------------------------------------------------*
//                                                                             *
//        Filewrapper template 'enumGenerationTemplate enumGeneration'         *
//                                                                             *
//-----------------------------------------------------------------------------*

GALGAS_string filewrapperTemplate_enumGenerationTemplate_enumGeneration (C_Compiler * /* inCompiler */,
                                                                         const GALGAS_string & in_ENUM_5F_TYPE_5F_NAME,
                                                                         const GALGAS_lstringlist & in_CONSTANT_5F_ORDERED_5F_LIST
                                                                         COMMA_UNUSED_LOCATION_ARGS) {
  C_String result ;
  result << "#import \"" ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << ".h\"\n"
    "#import \"load-store-functions.h\"\n"
    "\n"
    "//-----------------------------------------------------------------------------*\n"
    "\n"
    "NSString * convert" ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << "ValueToString (NSNumber * inValue) {\n"
    "  NSString * result = nil ;\n"
    "  switch (inValue.unsignedIntegerValue) { \n" ;
  GALGAS_uint index_322_ (0) ;
  if (in_CONSTANT_5F_ORDERED_5F_LIST.isValid ()) {
    cEnumerator_lstringlist enumerator_322 (in_CONSTANT_5F_ORDERED_5F_LIST, kEnumeration_up) ;
    while (enumerator_322.hasCurrentObject ()) {
      result << "    case " ;
      result << enumerator_322.current_mValue (HERE).mAttribute_string.stringValue () ;
      result << " : result = @\"" ;
      result << enumerator_322.current_mValue (HERE).mAttribute_string.stringValue () ;
      result << "\" ;\n"
        "    break ;\n" ;
      index_322_.increment () ;
      enumerator_322.gotoNextObject () ;
    }
  }
  result << "  }\n"
    "  return result ;\n"
    "}\n"
    "\n"
    "//-----------------------------------------------------------------------------*\n"
    "\n"
    "void store" ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << "InDictionary (const " ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << " inValue,\n"
    "                               NSString * inKey,\n"
    "                               NSMutableDictionary * ioDictionary) {\n"
    "  storeNSIntegerInDictionary (inValue, inKey, ioDictionary) ;\n"
    "}\n"
    "\n"
    "//-----------------------------------------------------------------------------*\n"
    "\n" ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << " read" ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << "FromDictionary (NSString * inKey,\n"
    "                                NSDictionary * inDictionary) {\n"
    "  return readNSIntegerFromDictionary (inKey, inDictionary) ;\n"
    "}\n"
    "\n"
    "//-----------------------------------------------------------------------------*\n"
    "\n"
    "BOOL equal" ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << "s (const " ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << " inValue1,\n"
    "                              const " ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << " inValue2) {\n"
    "  return inValue1 == inValue2 ;\n"
    "}\n"
    "\n"
    "//----------------------------------------------------------------------------*\n"
    "\n" ;
  return GALGAS_string (result) ;
}

//-----------------------------------------------------------------------------*
//                                                                             *
//     Filewrapper template 'enumGenerationTemplate enumGenerationInSwift'     *
//                                                                             *
//-----------------------------------------------------------------------------*

GALGAS_string filewrapperTemplate_enumGenerationTemplate_enumGenerationInSwift (C_Compiler * inCompiler,
                                                                                const GALGAS_string & in_ENUM_5F_TYPE_5F_NAME,
                                                                                const GALGAS_lstringlist & in_CONSTANT_5F_ORDERED_5F_LIST
                                                                                COMMA_UNUSED_LOCATION_ARGS) {
  C_String result ;
  result << "\n"
    "import Foundation\n"
    "\n"
    "//----------------------------------------------------------------------------*\n"
    "\n"
    "enum " ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << " : Int {\n" ;
  GALGAS_uint index_175_idx (0) ;
  if (in_CONSTANT_5F_ORDERED_5F_LIST.isValid ()) {
    cEnumerator_lstringlist enumerator_175 (in_CONSTANT_5F_ORDERED_5F_LIST, kEnumeration_up) ;
    while (enumerator_175.hasCurrentObject ()) {
      result << "  case " ;
      result << enumerator_175.current_mValue (HERE).mAttribute_string.stringValue () ;
      result << " = " ;
      result << index_175_idx.reader_string (SOURCE_FILE_AT_LINE (9)).stringValue () ;
      result << "\n" ;
      index_175_idx.increment () ;
      enumerator_175.gotoNextObject () ;
    }
  }
  result << "\n"
    "  \n"
    "  func string () -> String {\n"
    "    switch self {\n" ;
  GALGAS_uint index_326_idx (0) ;
  if (in_CONSTANT_5F_ORDERED_5F_LIST.isValid ()) {
    cEnumerator_lstringlist enumerator_326 (in_CONSTANT_5F_ORDERED_5F_LIST, kEnumeration_up) ;
    while (enumerator_326.hasCurrentObject ()) {
      result << "      case " ;
      result << enumerator_326.current_mValue (HERE).mAttribute_string.stringValue () ;
      result << " : return \"" ;
      result << enumerator_326.current_mValue (HERE).mAttribute_string.stringValue () ;
      result << "\" // " ;
      result << index_326_idx.reader_string (SOURCE_FILE_AT_LINE (17)).stringValue () ;
      result << "\n" ;
      index_326_idx.increment () ;
      enumerator_326.gotoNextObject () ;
    }
  }
  result << "    }\n"
    "  }\n"
    "}\n"
    "\n"
    "//----------------------------------------------------------------------------*\n"
    "\n"
    "/*  func storeInDictionary (inKey : String,\n"
    "                          inout ioDictionary : NSMutableDictionary) {\n"
    "    ioDictionary.setObject (NSNumber.numberWithInteger (toRaw ()), forKey: inKey)\n"
    "  }*/\n"
    " \n"
    " //----------------------------------------------------------------------------*\n"
    "\n"
    "extension NSDictionary {\n"
    "  func read" ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << "  (inKey : String) -> " ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << " {\n"
    "    let v : Int\? = objectForKey (inKey)\?.integerValue()\n"
    "    var result = " ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << "." ;
  result << in_CONSTANT_5F_ORDERED_5F_LIST.reader_mValueAtIndex (GALGAS_uint ((uint32_t) 0U), inCompiler COMMA_SOURCE_FILE_AT_LINE (35)).mAttribute_string.stringValue () ;
  result << "\n"
    "    if v {\n"
    "      let e : " ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << "\? = " ;
  result << in_ENUM_5F_TYPE_5F_NAME.stringValue () ;
  result << ".fromRaw (v!)\n"
    "      if e {\n"
    "        result = e!\n"
    "      }\n"
    "    }\n"
    "    return result\n"
    "  }\n"
    "}\n"
    "\n"
    "//----------------------------------------------------------------------------*\n"
    "\n" ;
  return GALGAS_string (result) ;
}

//-----------------------------------------------------------------------------*
//                                                                             *
//          Overriding category method '@enumTypeGeneration generate'          *
//                                                                             *
//-----------------------------------------------------------------------------*

static void categoryMethod_enumTypeGeneration_generate (const cPtr_generation * inObject,
                                                        const GALGAS_string constinArgument_inOutputDirectory,
                                                        C_Compiler * inCompiler
                                                        COMMA_UNUSED_LOCATION_ARGS) {
  const cPtr_enumTypeGeneration * object = (const cPtr_enumTypeGeneration *) inObject ;
  macroValidSharedObject (object, cPtr_enumTypeGeneration) ;
  const enumGalgasBool test_0 = GALGAS_bool (gOption_easyBindings_5F_options_outputSwift.reader_value ()).boolEnum () ;
  if (kBoolTrue == test_0) {
    GALGAS_string var_s = GALGAS_string (filewrapperTemplate_enumGenerationTemplate_enumGenerationInSwift (inCompiler, object->mAttribute_mGenerationName, object->mAttribute_mConstantOrderedList COMMA_SOURCE_FILE_AT_LINE (30))) ;
    {
    GALGAS_string::class_method_generateFileWithPattern (constinArgument_inOutputDirectory, object->mAttribute_mGenerationName.operator_concat (GALGAS_string (".swift") COMMA_SOURCE_FILE_AT_LINE (36)), GALGAS_string ("//"), GALGAS_string ("\n"
      "\n"), var_s, GALGAS_string ("\n"
      "\n"), GALGAS_string ("\n"), inCompiler COMMA_SOURCE_FILE_AT_LINE (34)) ;
    }
  }else if (kBoolFalse == test_0) {
    GALGAS_string var_s = GALGAS_string (filewrapperTemplate_enumGenerationTemplate_enumDeclaration (inCompiler, object->mAttribute_mGenerationName, object->mAttribute_mConstantOrderedList COMMA_SOURCE_FILE_AT_LINE (44))) ;
    {
    GALGAS_string::class_method_generateFileWithPattern (constinArgument_inOutputDirectory, object->mAttribute_mGenerationName.operator_concat (GALGAS_string (".h") COMMA_SOURCE_FILE_AT_LINE (50)), GALGAS_string ("//"), GALGAS_string ("\n"
      "\n"), var_s, GALGAS_string ("\n"
      "\n"), GALGAS_string ("\n"), inCompiler COMMA_SOURCE_FILE_AT_LINE (48)) ;
    }
    var_s = GALGAS_string (filewrapperTemplate_enumGenerationTemplate_enumGeneration (inCompiler, object->mAttribute_mGenerationName, object->mAttribute_mConstantOrderedList COMMA_SOURCE_FILE_AT_LINE (57))) ;
    {
    GALGAS_string::class_method_generateFileWithPattern (constinArgument_inOutputDirectory, object->mAttribute_mGenerationName.operator_concat (GALGAS_string (".m") COMMA_SOURCE_FILE_AT_LINE (63)), GALGAS_string ("//"), GALGAS_string ("\n"
      "\n"), var_s, GALGAS_string ("\n"
      "\n"), GALGAS_string ("\n"), inCompiler COMMA_SOURCE_FILE_AT_LINE (61)) ;
    }
  }
}
//-----------------------------------------------------------------------------*

static void defineCategoryMethod_enumTypeGeneration_generate (void) {
  enterCategoryMethod_generate (kTypeDescriptor_GALGAS_enumTypeGeneration.mSlotID,
                                categoryMethod_enumTypeGeneration_generate) ;
}

//-----------------------------------------------------------------------------*

C_PrologueEpilogue gMethod_enumTypeGeneration_generate (defineCategoryMethod_enumTypeGeneration_generate, NULL) ;

//--- START OF USER ZONE 2


//--- END OF USER ZONE 2


