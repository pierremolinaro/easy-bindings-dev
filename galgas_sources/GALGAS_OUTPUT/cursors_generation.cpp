//---------------------------------------------------------------------------*
//                                                                           *
//                      File 'cursors_generation.cpp'                        *
//                        Generated by version 2.4.3                         *
//                     december 9th, 2012, at 19h8'49"                       *
//                                                                           *
//---------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

#include "cursors_generation.h"
#include "galgas2/C_Compiler.h"
#include "galgas2/C_galgas_io.h"
#include "galgas2/C_galgas_CLI_Options.h"
#include "utilities/C_PrologueEpilogue.h"

//---------------------------------------------------------------------------*

#include "easyBindings_options.h"

//---------------------------------------------------------------------------*

#ifndef DO_NOT_GENERATE_CHECKINGS
  #define SOURCE_FILE_AT_LINE(line) "cursors_generation.gSemantics", line
  #define COMMA_SOURCE_FILE_AT_LINE(line) , SOURCE_FILE_AT_LINE(line)
#else
  #define SOURCE_FILE_AT_LINE(line) 
  #define COMMA_SOURCE_FILE_AT_LINE(line) 
#endif

//---------------------------------------------------------------------------*
//                                                                           *
//                  Filewrapper 'cursorsGenerationTemplate'                  *
//                                                                           *
//---------------------------------------------------------------------------*

extern const cDirectoryWrapper gWrapperDirectory_0_cursorsGenerationTemplate ;

//---------------------------------------------------------------------------*
//                                                                           *
//    Filewrapper template 'cursorsGenerationTemplate cursorsDeclaration'    *
//                                                                           *
//---------------------------------------------------------------------------*

GALGAS_string filewrapperTemplate_cursorsGenerationTemplate_cursorsDeclaration (C_Compiler * inCompiler,
                                                                                const GALGAS_cursorMap & in_CURSOR_5F_MAP
                                                                                COMMA_LOCATION_ARGS) ;

//---------------------------------------------------------------------------*
//                                                                           *
//  Filewrapper template 'cursorsGenerationTemplate cursorsImplementation'   *
//                                                                           *
//---------------------------------------------------------------------------*

GALGAS_string filewrapperTemplate_cursorsGenerationTemplate_cursorsImplementation (C_Compiler * inCompiler,
                                                                                   const GALGAS_cursorMap & in_CURSOR_5F_MAP
                                                                                   COMMA_LOCATION_ARGS) ;

//---------------------------------------------------------------------------*
//                                                                           *
//                  Filewrapper 'cursorsGenerationTemplate'                  *
//                                                                           *
//---------------------------------------------------------------------------*

//--- All files of '' directory

static const cRegularFileWrapper * gWrapperAllFiles_cursorsGenerationTemplate_0 [1] = {
  NULL
} ;

//--- All sub-directories of '' directory

static const cDirectoryWrapper * gWrapperAllDirectories_cursorsGenerationTemplate_0 [1] = {
  NULL
} ;

//--- Directory ''

const cDirectoryWrapper gWrapperDirectory_0_cursorsGenerationTemplate (
  "",
  0,
  gWrapperAllFiles_cursorsGenerationTemplate_0,
  0,
  gWrapperAllDirectories_cursorsGenerationTemplate_0
) ;


//---------------------------------------------------------------------------*
//                                                                           *
//    Filewrapper template 'cursorsGenerationTemplate cursorsDeclaration'    *
//                                                                           *
//---------------------------------------------------------------------------*

GALGAS_string filewrapperTemplate_cursorsGenerationTemplate_cursorsDeclaration (C_Compiler * /* inCompiler */,
                                                                                const GALGAS_cursorMap & in_CURSOR_5F_MAP
                                                                                COMMA_UNUSED_LOCATION_ARGS) {
  C_String result ;
  result << "#import <Cocoa/Cocoa.h>\n"
    "\n"
    "//---------------------------------------------------------------------------*\n"
    "\n" ;
  GALGAS_uint index_141_ (0) ;
  if (in_CURSOR_5F_MAP.isValid ()) {
    cEnumerator_cursorMap enumerator_141 (in_CURSOR_5F_MAP, kEnumeration_up) ;
    while (enumerator_141.hasCurrentObject ()) {
      result << "\n"
        "NSCursor * " ;
      result << enumerator_141.current_lkey (HERE).mAttribute_string.stringValue () ;
      result << "_cursor (void) ;\n" ;
      index_141_.increment () ;
      enumerator_141.gotoNextObject () ;
    }
  }
  result << "\n"
    "\n" ;
  return GALGAS_string (result) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//  Filewrapper template 'cursorsGenerationTemplate cursorsImplementation'   *
//                                                                           *
//---------------------------------------------------------------------------*

GALGAS_string filewrapperTemplate_cursorsGenerationTemplate_cursorsImplementation (C_Compiler * /* inCompiler */,
                                                                                   const GALGAS_cursorMap & in_CURSOR_5F_MAP
                                                                                   COMMA_UNUSED_LOCATION_ARGS) {
  C_String result ;
  result << "\n"
    "#import \"cursors.h\"\n"
    "\n"
    "//---------------------------------------------------------------------------*\n"
    "\n" ;
  GALGAS_uint index_298_ (0) ;
  if (in_CURSOR_5F_MAP.isValid ()) {
    cEnumerator_cursorMap enumerator_298 (in_CURSOR_5F_MAP, kEnumeration_up) ;
    while (enumerator_298.hasCurrentObject ()) {
      result << "//---------------------------------------------------------------------------*\n"
        "\n"
        "//---------------------------------------------------------------------------*\n"
        "\n"
        "NSCursor * " ;
      result << enumerator_298.current_lkey (HERE).mAttribute_string.stringValue () ;
      result << "_cursor (void) {\n"
        "  NSCursor * cursor ;\n"
        "  NSImage * image = [NSImage imageNamed:@\"" ;
      result << enumerator_298.current_lkey (HERE).mAttribute_string.stringValue () ;
      result << "\"] ;\n"
        "  if (image == nil) {\n"
        "    cursor = [NSCursor arrowCursor] ;\n"
        "  }else{\n"
        "    cursor = [[NSCursor alloc]\n"
        "      initWithImage:image hotSpot:NSMakePoint (" ;
      result << enumerator_298.current_mHotSpotX (HERE).reader_string (SOURCE_FILE_AT_LINE (18)).stringValue () ;
      result << ", " ;
      result << enumerator_298.current_mHotSpotY (HERE).reader_string (SOURCE_FILE_AT_LINE (18)).stringValue () ;
      result << ")\n"
        "    ] ;\n"
        "  }\n"
        "  return cursor ;\n"
        "}\n" ;
      index_298_.increment () ;
      enumerator_298.gotoNextObject () ;
    }
  }
  result << "\n"
    "\n"
    "//---------------------------------------------------------------------------*\n"
    "\n" ;
  return GALGAS_string (result) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//                       Routine 'generateCursorCode'                        *
//                                                                           *
//---------------------------------------------------------------------------*

void routine_generateCursorCode (const GALGAS_cursorMap constinArgument_inCursorMap,
                                 const GALGAS_string constinArgument_inOutputDirectory,
                                 C_Compiler * inCompiler
                                 COMMA_UNUSED_LOCATION_ARGS) {
  //-------- @ifInstructionForGeneration
  const enumGalgasBool test_0 = GALGAS_bool (kIsEqual, GALGAS_uint::constructor_errorCount (SOURCE_FILE_AT_LINE (25)).objectCompare (GALGAS_uint ((PMUInt32) 0U))).operator_and (GALGAS_bool (kIsStrictSup, constinArgument_inCursorMap.reader_count (SOURCE_FILE_AT_LINE (25)).objectCompare (GALGAS_uint ((PMUInt32) 0U))) COMMA_SOURCE_FILE_AT_LINE (25)).boolEnum () ;
  if (kBoolTrue == test_0) {
    //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
    GALGAS_string var_s = GALGAS_string (filewrapperTemplate_cursorsGenerationTemplate_cursorsDeclaration (inCompiler, constinArgument_inCursorMap COMMA_SOURCE_FILE_AT_LINE (27))) ;
    { //-------- @typeMethodInstructionForGeneration
    GALGAS_string::class_method_generateFileWithPattern (constinArgument_inOutputDirectory, GALGAS_string ("cursors.h"), GALGAS_string ("//"), GALGAS_string ("\n"
      "\n"), var_s, GALGAS_string ("\n"
      "\n"), GALGAS_string ("\n"), inCompiler COMMA_SOURCE_FILE_AT_LINE (30)) ;
    } //-------- @routineCallInstructionForGeneration
    //-------- @assignmentInstructionForGeneration
    var_s = GALGAS_string (filewrapperTemplate_cursorsGenerationTemplate_cursorsImplementation (inCompiler, constinArgument_inCursorMap COMMA_SOURCE_FILE_AT_LINE (40))) ;
    { //-------- @typeMethodInstructionForGeneration
    GALGAS_string::class_method_generateFileWithPattern (constinArgument_inOutputDirectory, GALGAS_string ("cursors.m"), GALGAS_string ("//"), GALGAS_string ("\n"
      "\n"), var_s, GALGAS_string ("\n"
      "\n"), GALGAS_string ("\n"), inCompiler COMMA_SOURCE_FILE_AT_LINE (43)) ;
    } //-------- @routineCallInstructionForGeneration
  }
}


//--- START OF USER ZONE 2


//--- END OF USER ZONE 2


