//-----------------------------------------------------------------------------*
//                                                                             *
//                  File 'attributeDeclarationAnalysis.cpp'                    *
//                         Generated by version 2.6.0                          *
//                       july 28th, 2014, at 13h38'35"                         *
//                                                                             *
//-----------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

#include "attributeDeclarationAnalysis.h"
#include "galgas2/C_Compiler.h"
#include "galgas2/C_galgas_io.h"
#include "galgas2/C_galgas_CLI_Options.h"
#include "utilities/C_PrologueEpilogue.h"

//-----------------------------------------------------------------------------*


//-----------------------------------------------------------------------------*

#ifndef DO_NOT_GENERATE_CHECKINGS
  #define SOURCE_FILE_AT_LINE(line) "attributeDeclarationAnalysis.gSemantics", line
  #define COMMA_SOURCE_FILE_AT_LINE(line) , SOURCE_FILE_AT_LINE(line)
#else
  #define SOURCE_FILE_AT_LINE(line) 
  #define COMMA_SOURCE_FILE_AT_LINE(line) 
#endif

//-----------------------------------------------------------------------------*
//                                                                             *
//                    Routine 'analyzeAttributeDeclaration'                    *
//                                                                             *
//-----------------------------------------------------------------------------*

void routine_analyzeAttributeDeclaration (const GALGAS_attributeList constinArgument_inAttributeList,
                                          GALGAS_contextAnalysisStruct & ioArgument_ioContextAnalysisStruct,
                                          const GALGAS_unifiedTypeMap constinArgument_inUnifiedTypeMap,
                                          GALGAS_fileInclusionSet & ioArgument_ioFileInclusionSet,
                                          GALGAS_attributeListForImplementation & outArgument_outAttributeListForImplementation,
                                          GALGAS_attributeListForImplementation & ioArgument_ioAttributeListForInitHeader,
                                          C_Compiler * inCompiler
                                          COMMA_UNUSED_LOCATION_ARGS) {
  outArgument_outAttributeListForImplementation.drop () ; // Release 'out' argument
  outArgument_outAttributeListForImplementation = GALGAS_attributeListForImplementation::constructor_emptyList (SOURCE_FILE_AT_LINE (14)) ;
  cEnumerator_attributeList enumerator_606 (constinArgument_inAttributeList, kEnumeration_up) ;
  while (enumerator_606.hasCurrentObject ()) {
    GALGAS_ebType var_type ;
    GALGAS_astDeclaration joker_677_0 ; // Joker input parameter
    constinArgument_inUnifiedTypeMap.method_searchKey (enumerator_606.current_mAttributeTypeName (HERE), var_type, joker_677_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (16)) ;
    GALGAS_string var_directDefaultValueAsString ;
    GALGAS_string var_objectiveCDefaultValueAsString ;
    GALGAS_string var_swiftDefaultValueAsString ;
    callCategoryMethod_analyzeDefaultValueType ((const cPtr_abstractDefaultValue *) enumerator_606.current_mDefaultValue (HERE).ptr (), GALGAS_ebTypeList::constructor_listWithValue (var_type COMMA_SOURCE_FILE_AT_LINE (18)), ioArgument_ioContextAnalysisStruct, var_directDefaultValueAsString, var_objectiveCDefaultValueAsString, var_swiftDefaultValueAsString, ioArgument_ioFileInclusionSet, inCompiler COMMA_SOURCE_FILE_AT_LINE (17)) ;
    outArgument_outAttributeListForImplementation.addAssign_operation (var_type, enumerator_606.current_mAttributeName (HERE).reader_string (SOURCE_FILE_AT_LINE (27)), var_objectiveCDefaultValueAsString, var_directDefaultValueAsString, var_swiftDefaultValueAsString COMMA_SOURCE_FILE_AT_LINE (25)) ;
    ioArgument_ioAttributeListForInitHeader.addAssign_operation (var_type, enumerator_606.current_mAttributeName (HERE).reader_string (SOURCE_FILE_AT_LINE (34)), var_objectiveCDefaultValueAsString, var_directDefaultValueAsString, var_swiftDefaultValueAsString COMMA_SOURCE_FILE_AT_LINE (32)) ;
    enumerator_606.gotoNextObject () ;
  }
}


//-----------------------------------------------------------------------------*
//                                                                             *
//                    Routine 'buildObservablePropertyMap'                     *
//                                                                             *
//-----------------------------------------------------------------------------*

void routine_buildObservablePropertyMap (const GALGAS_attributeList constinArgument_inAttributeList,
                                         const GALGAS_classArrayList constinArgument_inArrayList,
                                         const GALGAS_transientList constinArgument_inTransientList,
                                         const GALGAS_controllerList constinArgument_inControllerList,
                                         const GALGAS_controllerObservablePropertyList constinArgument_inControllerObservablePropertyList,
                                         GALGAS_observablePropertyMapMap & /* ioArgument_ioObservablePropertyMapMap */,
                                         GALGAS_transientDependencyGraph & ioArgument_ioTransientDependencyGraph,
                                         const GALGAS_unifiedTypeMap constinArgument_inUnifiedTypeMap,
                                         const GALGAS_string constinArgument_inObjectName,
                                         GALGAS_observablePropertyMap & ioArgument_ioSelfObservableAttributeMap,
                                         C_Compiler * inCompiler
                                         COMMA_UNUSED_LOCATION_ARGS) {
  cEnumerator_attributeList enumerator_2020 (constinArgument_inAttributeList, kEnumeration_up) ;
  while (enumerator_2020.hasCurrentObject ()) {
    GALGAS_ebType var_type ;
    GALGAS_astDeclaration joker_2091_0 ; // Joker input parameter
    constinArgument_inUnifiedTypeMap.method_searchKey (enumerator_2020.current_mAttributeTypeName (HERE), var_type, joker_2091_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (58)) ;
    GALGAS_lstring var_observationDependencyKey = GALGAS_lstring::constructor_new (constinArgument_inObjectName.operator_concat (GALGAS_string (".") COMMA_SOURCE_FILE_AT_LINE (60)).operator_concat (enumerator_2020.current_mAttributeName (HERE).reader_string (SOURCE_FILE_AT_LINE (60)) COMMA_SOURCE_FILE_AT_LINE (60)), enumerator_2020.current_mAttributeName (HERE).mAttribute_location COMMA_SOURCE_FILE_AT_LINE (59)) ;
    {
    ioArgument_ioSelfObservableAttributeMap.modifier_insertKey (enumerator_2020.current_mAttributeName (HERE), var_type, GALGAS_bool (false), var_observationDependencyKey, GALGAS_bool (false), inCompiler COMMA_SOURCE_FILE_AT_LINE (63)) ;
    }
    {
    ioArgument_ioTransientDependencyGraph.modifier_addNode (var_observationDependencyKey, var_observationDependencyKey.mAttribute_string, inCompiler COMMA_SOURCE_FILE_AT_LINE (70)) ;
    }
    enumerator_2020.gotoNextObject () ;
  }
  cEnumerator_classArrayList enumerator_2588 (constinArgument_inArrayList, kEnumeration_up) ;
  while (enumerator_2588.hasCurrentObject ()) {
    GALGAS_ebType var_type ;
    GALGAS_astDeclaration joker_2658_0 ; // Joker input parameter
    constinArgument_inUnifiedTypeMap.method_searchKey (enumerator_2588.current_mElementClassName (HERE), var_type, joker_2658_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (77)) ;
    GALGAS_lstring var_observationDependencyKey = GALGAS_lstring::constructor_new (constinArgument_inObjectName.operator_concat (GALGAS_string (".") COMMA_SOURCE_FILE_AT_LINE (79)).operator_concat (enumerator_2588.current_mArrayName (HERE).reader_string (SOURCE_FILE_AT_LINE (79)) COMMA_SOURCE_FILE_AT_LINE (79)), enumerator_2588.current_mArrayName (HERE).mAttribute_location COMMA_SOURCE_FILE_AT_LINE (78)) ;
    {
    ioArgument_ioSelfObservableAttributeMap.modifier_insertKey (enumerator_2588.current_mArrayName (HERE), var_type, GALGAS_bool (false), var_observationDependencyKey, GALGAS_bool (true), inCompiler COMMA_SOURCE_FILE_AT_LINE (82)) ;
    }
    {
    ioArgument_ioTransientDependencyGraph.modifier_addNode (var_observationDependencyKey, var_observationDependencyKey.mAttribute_string, inCompiler COMMA_SOURCE_FILE_AT_LINE (89)) ;
    }
    enumerator_2588.gotoNextObject () ;
  }
  cEnumerator_transientList enumerator_3147 (constinArgument_inTransientList, kEnumeration_up) ;
  while (enumerator_3147.hasCurrentObject ()) {
    GALGAS_ebType var_type ;
    GALGAS_astDeclaration joker_3218_0 ; // Joker input parameter
    constinArgument_inUnifiedTypeMap.method_searchKey (enumerator_3147.current_mTransientTypeName (HERE), var_type, joker_3218_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (96)) ;
    GALGAS_lstring var_observationDependencyKey = GALGAS_lstring::constructor_new (constinArgument_inObjectName.operator_concat (GALGAS_string (".") COMMA_SOURCE_FILE_AT_LINE (98)).operator_concat (enumerator_3147.current_mTransientName (HERE).reader_string (SOURCE_FILE_AT_LINE (98)) COMMA_SOURCE_FILE_AT_LINE (98)), enumerator_3147.current_mTransientName (HERE).mAttribute_location COMMA_SOURCE_FILE_AT_LINE (97)) ;
    {
    ioArgument_ioSelfObservableAttributeMap.modifier_insertKey (enumerator_3147.current_mTransientName (HERE), var_type, GALGAS_bool (true), var_observationDependencyKey, GALGAS_bool (false), inCompiler COMMA_SOURCE_FILE_AT_LINE (101)) ;
    }
    {
    ioArgument_ioTransientDependencyGraph.modifier_addNode (var_observationDependencyKey, var_observationDependencyKey.mAttribute_string, inCompiler COMMA_SOURCE_FILE_AT_LINE (108)) ;
    }
    enumerator_3147.gotoNextObject () ;
  }
  cEnumerator_controllerList enumerator_3719 (constinArgument_inControllerList, kEnumeration_up) ;
  while (enumerator_3719.hasCurrentObject ()) {
    GALGAS_ebType var_type ;
    GALGAS_astDeclaration joker_3792_0 ; // Joker input parameter
    constinArgument_inUnifiedTypeMap.method_searchKey (enumerator_3719.current_mControllerClassName (HERE), var_type, joker_3792_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (115)) ;
    GALGAS_lstring var_observationDependencyKey = GALGAS_lstring::constructor_new (constinArgument_inObjectName.operator_concat (GALGAS_string (".") COMMA_SOURCE_FILE_AT_LINE (117)).operator_concat (enumerator_3719.current_mControllerName (HERE).reader_string (SOURCE_FILE_AT_LINE (117)) COMMA_SOURCE_FILE_AT_LINE (117)), enumerator_3719.current_mControllerName (HERE).mAttribute_location COMMA_SOURCE_FILE_AT_LINE (116)) ;
    {
    ioArgument_ioSelfObservableAttributeMap.modifier_insertKey (enumerator_3719.current_mControllerName (HERE), var_type, GALGAS_bool (false), var_observationDependencyKey, GALGAS_bool (false), inCompiler COMMA_SOURCE_FILE_AT_LINE (120)) ;
    }
    {
    ioArgument_ioTransientDependencyGraph.modifier_addNode (var_observationDependencyKey, var_observationDependencyKey.mAttribute_string, inCompiler COMMA_SOURCE_FILE_AT_LINE (127)) ;
    }
    enumerator_3719.gotoNextObject () ;
  }
  cEnumerator_controllerObservablePropertyList enumerator_4329 (constinArgument_inControllerObservablePropertyList, kEnumeration_up) ;
  while (enumerator_4329.hasCurrentObject ()) {
    GALGAS_ebType var_type ;
    GALGAS_astDeclaration joker_4391_0 ; // Joker input parameter
    constinArgument_inUnifiedTypeMap.method_searchKey (enumerator_4329.current_mTypeName (HERE), var_type, joker_4391_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (134)) ;
    GALGAS_lstring var_observationDependencyKey = GALGAS_lstring::constructor_new (constinArgument_inObjectName.operator_concat (GALGAS_string (".") COMMA_SOURCE_FILE_AT_LINE (136)).operator_concat (enumerator_4329.current_mPropertyName (HERE).reader_string (SOURCE_FILE_AT_LINE (136)) COMMA_SOURCE_FILE_AT_LINE (136)), enumerator_4329.current_mPropertyName (HERE).mAttribute_location COMMA_SOURCE_FILE_AT_LINE (135)) ;
    {
    ioArgument_ioSelfObservableAttributeMap.modifier_insertKey (enumerator_4329.current_mPropertyName (HERE), var_type, GALGAS_bool (false), var_observationDependencyKey, GALGAS_bool (false), inCompiler COMMA_SOURCE_FILE_AT_LINE (139)) ;
    }
    {
    ioArgument_ioTransientDependencyGraph.modifier_addNode (var_observationDependencyKey, var_observationDependencyKey.mAttribute_string, inCompiler COMMA_SOURCE_FILE_AT_LINE (146)) ;
    }
    enumerator_4329.gotoNextObject () ;
  }
}


//--- START OF USER ZONE 2


//--- END OF USER ZONE 2


