//---------------------------------------------------------------------------*
//                                                                           *
//                 File 'attributeDeclarationAnalysis.cpp'                   *
//                        Generated by version 2.5.4                         *
//                     december 23th, 2013, at 20h4'22"                      *
//                                                                           *
//---------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

#include "attributeDeclarationAnalysis.h"
#include "galgas2/C_Compiler.h"
#include "galgas2/C_galgas_io.h"
#include "galgas2/C_galgas_CLI_Options.h"
#include "utilities/C_PrologueEpilogue.h"

//---------------------------------------------------------------------------*


//---------------------------------------------------------------------------*

#ifndef DO_NOT_GENERATE_CHECKINGS
  #define SOURCE_FILE_AT_LINE(line) "attributeDeclarationAnalysis.gSemantics", line
  #define COMMA_SOURCE_FILE_AT_LINE(line) , SOURCE_FILE_AT_LINE(line)
#else
  #define SOURCE_FILE_AT_LINE(line) 
  #define COMMA_SOURCE_FILE_AT_LINE(line) 
#endif

//---------------------------------------------------------------------------*
//                                                                           *
//                   Routine 'analyzeAttributeDeclaration'                   *
//                                                                           *
//---------------------------------------------------------------------------*

void routine_analyzeAttributeDeclaration (const GALGAS_attributeList constinArgument_inAttributeList,
                                          GALGAS_contextAnalysisStruct & ioArgument_ioContextAnalysisStruct,
                                          const GALGAS_unifiedTypeMap constinArgument_inUnifiedTypeMap,
                                          GALGAS_fileInclusionSet & ioArgument_ioFileInclusionSet,
                                          GALGAS_attributeListForImplementation & outArgument_outAttributeListForImplementation,
                                          GALGAS_attributeListForImplementation & ioArgument_ioAttributeListForInitHeader,
                                          C_Compiler * inCompiler
                                          COMMA_UNUSED_LOCATION_ARGS) {
  outArgument_outAttributeListForImplementation.drop () ; // Release 'out' argument
  outArgument_outAttributeListForImplementation = GALGAS_attributeListForImplementation::constructor_emptyList (SOURCE_FILE_AT_LINE (57)) ;
  cEnumerator_attributeList enumerator_1840 (constinArgument_inAttributeList, kEnumeration_up) ;
  while (enumerator_1840.hasCurrentObject ()) {
    GALGAS_ebType var_type ;
    GALGAS_astDeclaration joker_1911_0 ; // Joker input parameter
    constinArgument_inUnifiedTypeMap.method_searchKey (enumerator_1840.current_mAttributeTypeName (HERE), var_type, joker_1911_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (59)) ;
    GALGAS_string var_directDefaultValueAsString ;
    GALGAS_string var_objectiveCDefaultValueAsString ;
    callCategoryMethod_analyzeDefaultValueType ((const cPtr_abstractDefaultValue *) enumerator_1840.current_mDefaultValue (HERE).ptr (), GALGAS_ebTypeList::constructor_listWithValue (var_type COMMA_SOURCE_FILE_AT_LINE (61)), ioArgument_ioContextAnalysisStruct, var_directDefaultValueAsString, var_objectiveCDefaultValueAsString, ioArgument_ioFileInclusionSet, inCompiler COMMA_SOURCE_FILE_AT_LINE (60)) ;
    outArgument_outAttributeListForImplementation.addAssign_operation (var_type, enumerator_1840.current_mAttributeName (HERE).reader_string (SOURCE_FILE_AT_LINE (69)), var_objectiveCDefaultValueAsString, var_directDefaultValueAsString COMMA_SOURCE_FILE_AT_LINE (67)) ;
    ioArgument_ioAttributeListForInitHeader.addAssign_operation (var_type, enumerator_1840.current_mAttributeName (HERE).reader_string (SOURCE_FILE_AT_LINE (75)), var_objectiveCDefaultValueAsString, var_directDefaultValueAsString COMMA_SOURCE_FILE_AT_LINE (73)) ;
    enumerator_1840.gotoNextObject () ;
  }
}


//---------------------------------------------------------------------------*
//                                                                           *
//                   Routine 'buildObservablePropertyMap'                    *
//                                                                           *
//---------------------------------------------------------------------------*

void routine_buildObservablePropertyMap (const GALGAS_attributeList constinArgument_inAttributeList,
                                         const GALGAS_classArrayList constinArgument_inArrayList,
                                         const GALGAS_transientList constinArgument_inTransientList,
                                         const GALGAS_controllerList constinArgument_inControllerList,
                                         const GALGAS_controllerObservablePropertyList constinArgument_inControllerObservablePropertyList,
                                         GALGAS_observablePropertyMapMap & /* ioArgument_ioObservablePropertyMapMap */,
                                         GALGAS_transientDependencyGraph & ioArgument_ioTransientDependencyGraph,
                                         const GALGAS_unifiedTypeMap constinArgument_inUnifiedTypeMap,
                                         const GALGAS_string constinArgument_inObjectName,
                                         GALGAS_observablePropertyMap & ioArgument_ioSelfObservableAttributeMap,
                                         C_Compiler * inCompiler
                                         COMMA_UNUSED_LOCATION_ARGS) {
  cEnumerator_attributeList enumerator_3146 (constinArgument_inAttributeList, kEnumeration_up) ;
  while (enumerator_3146.hasCurrentObject ()) {
    GALGAS_ebType var_type ;
    GALGAS_astDeclaration joker_3217_0 ; // Joker input parameter
    constinArgument_inUnifiedTypeMap.method_searchKey (enumerator_3146.current_mAttributeTypeName (HERE), var_type, joker_3217_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (98)) ;
    GALGAS_lstring var_observationDependencyKey = GALGAS_lstring::constructor_new (constinArgument_inObjectName.operator_concat (GALGAS_string (".") COMMA_SOURCE_FILE_AT_LINE (100)).operator_concat (enumerator_3146.current_mAttributeName (HERE).reader_string (SOURCE_FILE_AT_LINE (100)) COMMA_SOURCE_FILE_AT_LINE (100)), enumerator_3146.current_mAttributeName (HERE).mAttribute_location COMMA_SOURCE_FILE_AT_LINE (99)) ;
    {
    ioArgument_ioSelfObservableAttributeMap.modifier_insertKey (enumerator_3146.current_mAttributeName (HERE), var_type, GALGAS_bool (false), var_observationDependencyKey, GALGAS_bool (false), inCompiler COMMA_SOURCE_FILE_AT_LINE (103)) ;
    }
    {
    ioArgument_ioTransientDependencyGraph.modifier_addNode (var_observationDependencyKey, var_observationDependencyKey.mAttribute_string, inCompiler COMMA_SOURCE_FILE_AT_LINE (110)) ;
    }
    enumerator_3146.gotoNextObject () ;
  }
  cEnumerator_classArrayList enumerator_3711 (constinArgument_inArrayList, kEnumeration_up) ;
  while (enumerator_3711.hasCurrentObject ()) {
    GALGAS_ebType var_type ;
    GALGAS_astDeclaration joker_3781_0 ; // Joker input parameter
    constinArgument_inUnifiedTypeMap.method_searchKey (enumerator_3711.current_mElementClassName (HERE), var_type, joker_3781_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (117)) ;
    GALGAS_lstring var_observationDependencyKey = GALGAS_lstring::constructor_new (constinArgument_inObjectName.operator_concat (GALGAS_string (".") COMMA_SOURCE_FILE_AT_LINE (119)).operator_concat (enumerator_3711.current_mArrayName (HERE).reader_string (SOURCE_FILE_AT_LINE (119)) COMMA_SOURCE_FILE_AT_LINE (119)), enumerator_3711.current_mArrayName (HERE).mAttribute_location COMMA_SOURCE_FILE_AT_LINE (118)) ;
    {
    ioArgument_ioSelfObservableAttributeMap.modifier_insertKey (enumerator_3711.current_mArrayName (HERE), var_type, GALGAS_bool (false), var_observationDependencyKey, GALGAS_bool (true), inCompiler COMMA_SOURCE_FILE_AT_LINE (122)) ;
    }
    {
    ioArgument_ioTransientDependencyGraph.modifier_addNode (var_observationDependencyKey, var_observationDependencyKey.mAttribute_string, inCompiler COMMA_SOURCE_FILE_AT_LINE (129)) ;
    }
    enumerator_3711.gotoNextObject () ;
  }
  cEnumerator_transientList enumerator_4267 (constinArgument_inTransientList, kEnumeration_up) ;
  while (enumerator_4267.hasCurrentObject ()) {
    GALGAS_ebType var_type ;
    GALGAS_astDeclaration joker_4338_0 ; // Joker input parameter
    constinArgument_inUnifiedTypeMap.method_searchKey (enumerator_4267.current_mTransientTypeName (HERE), var_type, joker_4338_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (136)) ;
    GALGAS_lstring var_observationDependencyKey = GALGAS_lstring::constructor_new (constinArgument_inObjectName.operator_concat (GALGAS_string (".") COMMA_SOURCE_FILE_AT_LINE (138)).operator_concat (enumerator_4267.current_mTransientName (HERE).reader_string (SOURCE_FILE_AT_LINE (138)) COMMA_SOURCE_FILE_AT_LINE (138)), enumerator_4267.current_mTransientName (HERE).mAttribute_location COMMA_SOURCE_FILE_AT_LINE (137)) ;
    {
    ioArgument_ioSelfObservableAttributeMap.modifier_insertKey (enumerator_4267.current_mTransientName (HERE), var_type, GALGAS_bool (true), var_observationDependencyKey, GALGAS_bool (false), inCompiler COMMA_SOURCE_FILE_AT_LINE (141)) ;
    }
    {
    ioArgument_ioTransientDependencyGraph.modifier_addNode (var_observationDependencyKey, var_observationDependencyKey.mAttribute_string, inCompiler COMMA_SOURCE_FILE_AT_LINE (148)) ;
    }
    enumerator_4267.gotoNextObject () ;
  }
  cEnumerator_controllerList enumerator_4836 (constinArgument_inControllerList, kEnumeration_up) ;
  while (enumerator_4836.hasCurrentObject ()) {
    GALGAS_ebType var_type ;
    GALGAS_astDeclaration joker_4909_0 ; // Joker input parameter
    constinArgument_inUnifiedTypeMap.method_searchKey (enumerator_4836.current_mControllerClassName (HERE), var_type, joker_4909_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (155)) ;
    GALGAS_lstring var_observationDependencyKey = GALGAS_lstring::constructor_new (constinArgument_inObjectName.operator_concat (GALGAS_string (".") COMMA_SOURCE_FILE_AT_LINE (157)).operator_concat (enumerator_4836.current_mControllerName (HERE).reader_string (SOURCE_FILE_AT_LINE (157)) COMMA_SOURCE_FILE_AT_LINE (157)), enumerator_4836.current_mControllerName (HERE).mAttribute_location COMMA_SOURCE_FILE_AT_LINE (156)) ;
    {
    ioArgument_ioSelfObservableAttributeMap.modifier_insertKey (enumerator_4836.current_mControllerName (HERE), var_type, GALGAS_bool (false), var_observationDependencyKey, GALGAS_bool (false), inCompiler COMMA_SOURCE_FILE_AT_LINE (160)) ;
    }
    {
    ioArgument_ioTransientDependencyGraph.modifier_addNode (var_observationDependencyKey, var_observationDependencyKey.mAttribute_string, inCompiler COMMA_SOURCE_FILE_AT_LINE (167)) ;
    }
    enumerator_4836.gotoNextObject () ;
  }
  cEnumerator_controllerObservablePropertyList enumerator_5443 (constinArgument_inControllerObservablePropertyList, kEnumeration_up) ;
  while (enumerator_5443.hasCurrentObject ()) {
    GALGAS_ebType var_type ;
    GALGAS_astDeclaration joker_5505_0 ; // Joker input parameter
    constinArgument_inUnifiedTypeMap.method_searchKey (enumerator_5443.current_mTypeName (HERE), var_type, joker_5505_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (174)) ;
    GALGAS_lstring var_observationDependencyKey = GALGAS_lstring::constructor_new (constinArgument_inObjectName.operator_concat (GALGAS_string (".") COMMA_SOURCE_FILE_AT_LINE (176)).operator_concat (enumerator_5443.current_mPropertyName (HERE).reader_string (SOURCE_FILE_AT_LINE (176)) COMMA_SOURCE_FILE_AT_LINE (176)), enumerator_5443.current_mPropertyName (HERE).mAttribute_location COMMA_SOURCE_FILE_AT_LINE (175)) ;
    {
    ioArgument_ioSelfObservableAttributeMap.modifier_insertKey (enumerator_5443.current_mPropertyName (HERE), var_type, GALGAS_bool (false), var_observationDependencyKey, GALGAS_bool (false), inCompiler COMMA_SOURCE_FILE_AT_LINE (179)) ;
    }
    {
    ioArgument_ioTransientDependencyGraph.modifier_addNode (var_observationDependencyKey, var_observationDependencyKey.mAttribute_string, inCompiler COMMA_SOURCE_FILE_AT_LINE (186)) ;
    }
    enumerator_5443.gotoNextObject () ;
  }
}


//--- START OF USER ZONE 2


//--- END OF USER ZONE 2


