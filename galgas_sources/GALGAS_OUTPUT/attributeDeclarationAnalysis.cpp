//---------------------------------------------------------------------------*
//                                                                           *
//                 File 'attributeDeclarationAnalysis.cpp'                   *
//                        Generated by version 2.4.7                         *
//                       july 5th, 2013, at 16h16'53"                        *
//                                                                           *
//---------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

#include "attributeDeclarationAnalysis.h"
#include "galgas2/C_Compiler.h"
#include "galgas2/C_galgas_io.h"
#include "galgas2/C_galgas_CLI_Options.h"
#include "utilities/C_PrologueEpilogue.h"

//---------------------------------------------------------------------------*


//---------------------------------------------------------------------------*

#ifndef DO_NOT_GENERATE_CHECKINGS
  #define SOURCE_FILE_AT_LINE(line) "attributeDeclarationAnalysis.gSemantics", line
  #define COMMA_SOURCE_FILE_AT_LINE(line) , SOURCE_FILE_AT_LINE(line)
#else
  #define SOURCE_FILE_AT_LINE(line) 
  #define COMMA_SOURCE_FILE_AT_LINE(line) 
#endif

//---------------------------------------------------------------------------*
//                                                                           *
//                   Routine 'analyzeAttributeDeclaration'                   *
//                                                                           *
//---------------------------------------------------------------------------*

void routine_analyzeAttributeDeclaration (const GALGAS_attributeList constinArgument_inAttributeList,
                                          const GALGAS_contextAnalysisStruct constinArgument_inContextAnalysisStruct,
                                          const GALGAS_string constinArgument_inObjectName,
                                          GALGAS_transientDependencyGraph & ioArgument_ioTransientDependencyGraph,
                                          GALGAS_fileInclusionSet & ioArgument_ioFileInclusionSet,
                                          GALGAS_observablePropertyMap & ioArgument_ioSelfObservableAttributeMap,
                                          GALGAS_attributeListForImplementation & outArgument_outAttributeListForImplementation,
                                          GALGAS_attributeListForImplementation & ioArgument_ioAttributeListForInitHeader,
                                          C_Compiler * inCompiler
                                          COMMA_UNUSED_LOCATION_ARGS) {
  outArgument_outAttributeListForImplementation.drop () ; // Release 'out' argument
  //-------- @assignmentInstructionForGeneration
  outArgument_outAttributeListForImplementation = GALGAS_attributeListForImplementation::constructor_emptyList (SOURCE_FILE_AT_LINE (18)) ;
  //-------- @foreachInstructionForGeneration
  cEnumerator_attributeList enumerator_829 (constinArgument_inAttributeList, kEnumeration_up) ;
  //--- simple foreach instruction
  while (enumerator_829.hasCurrentObject ()) {
    //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
    GALGAS_easyBindingType var_type = callCategoryReader_analyze ((const cPtr_attributeASTType *) enumerator_829.current_mType (HERE).ptr (), constinArgument_inContextAnalysisStruct, inCompiler COMMA_SOURCE_FILE_AT_LINE (20)) ;
    //-------- @localVariableDeclarationForGeneration
    GALGAS_string var_directDefaultValueAsString ;
    //-------- @localVariableDeclarationForGeneration
    GALGAS_string var_objectiveCDefaultValueAsString ;
    //-------- @methodCallInstructionForGeneration
    callCategoryMethod_analyzeDefaultValueType ((const cPtr_abstractDefaultValue *) enumerator_829.current_mDefaultValue (HERE).ptr (), GALGAS_easyBindingTypeList::constructor_listWithValue (var_type COMMA_SOURCE_FILE_AT_LINE (22)), constinArgument_inContextAnalysisStruct, var_directDefaultValueAsString, var_objectiveCDefaultValueAsString, ioArgument_ioFileInclusionSet, inCompiler COMMA_SOURCE_FILE_AT_LINE (21)) ;
    //-------- END @methodCallInstructionForGeneration
    //-------- @plusEqualnstructionForGeneration
    outArgument_outAttributeListForImplementation.addAssign_operation (var_type, enumerator_829.current_mAttributeName (HERE).reader_string (SOURCE_FILE_AT_LINE (30)), var_objectiveCDefaultValueAsString, var_directDefaultValueAsString COMMA_SOURCE_FILE_AT_LINE (28)) ;
    //-------- @plusEqualnstructionForGeneration
    ioArgument_ioAttributeListForInitHeader.addAssign_operation (var_type, enumerator_829.current_mAttributeName (HERE).reader_string (SOURCE_FILE_AT_LINE (36)), var_objectiveCDefaultValueAsString, var_directDefaultValueAsString COMMA_SOURCE_FILE_AT_LINE (34)) ;
    //-------- @localVariableOrConstantDeclarationWithConstructorCallForGeneration
    GALGAS_lstring var_observationDependencyKey = GALGAS_lstring::constructor_new (constinArgument_inObjectName.operator_concat (GALGAS_string (".") COMMA_SOURCE_FILE_AT_LINE (41)).operator_concat (enumerator_829.current_mAttributeName (HERE).reader_string (SOURCE_FILE_AT_LINE (41)) COMMA_SOURCE_FILE_AT_LINE (41)), enumerator_829.current_mAttributeName (HERE).mAttribute_location COMMA_SOURCE_FILE_AT_LINE (40)) ;
    { //-------- @modifierCallInstructionForGeneration
    ioArgument_ioSelfObservableAttributeMap.modifier_insertKey (enumerator_829.current_mAttributeName (HERE), var_type, GALGAS_bool (false), var_observationDependencyKey.mAttribute_string, inCompiler COMMA_SOURCE_FILE_AT_LINE (44)) ;
    } //-------- END @typeMethodInstructionForGeneration
    { //-------- @modifierCallInstructionForGeneration
    ioArgument_ioTransientDependencyGraph.modifier_addNode (var_observationDependencyKey, var_observationDependencyKey.mAttribute_string, inCompiler COMMA_SOURCE_FILE_AT_LINE (50)) ;
    } //-------- END @typeMethodInstructionForGeneration
    enumerator_829.gotoNextObject () ;
  }
}


//--- START OF USER ZONE 2


//--- END OF USER ZONE 2


