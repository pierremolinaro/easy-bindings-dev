//-----------------------------------------------------------------------------*
//                                                                             *
//                         File 'classGeneration.cpp'                          *
//                         Generated by version 2.7.0                          *
//                       august 8th, 2014, at 18h59'57"                        *
//                                                                             *
//-----------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

#include "galgas2/C_Compiler.h"
#include "galgas2/C_galgas_io.h"
#include "galgas2/C_galgas_CLI_Options.h"
#include "utilities/C_PrologueEpilogue.h"

//-----------------------------------------------------------------------------*

#include "easyBindings_options.h"
#include "classGeneration.h"


//-----------------------------------------------------------------------------*
//                                                                             *
//                    Filewrapper 'classGenerationTemplate'                    *
//                                                                             *
//-----------------------------------------------------------------------------*

//--- All files of '' directory

static const cRegularFileWrapper * gWrapperAllFiles_classGenerationTemplate_0 [1] = {
  NULL
} ;

//--- All sub-directories of '' directory

static const cDirectoryWrapper * gWrapperAllDirectories_classGenerationTemplate_0 [1] = {
  NULL
} ;

//--- Directory ''

const cDirectoryWrapper gWrapperDirectory_0_classGenerationTemplate (
  "",
  0,
  gWrapperAllFiles_classGenerationTemplate_0,
  0,
  gWrapperAllDirectories_classGenerationTemplate_0
) ;


//-----------------------------------------------------------------------------*
//                                                                             *
//  Filewrapper template 'classGenerationTemplate classImplementationInSwift'  *
//                                                                             *
//-----------------------------------------------------------------------------*

GALGAS_string filewrapperTemplate_classGenerationTemplate_classImplementationInSwift (C_Compiler * inCompiler,
                                                                                      const GALGAS_string & in_CLASS_5F_NAME,
                                                                                      const GALGAS_string & in_SUPER_5F_CLASS_5F_NAME,
                                                                                      const GALGAS_attributeListForImplementation & in_ATTRIBUTE_5F_LIST,
                                                                                      const GALGAS_transientListForImplementation & in_TRANSIENT_5F_LIST_5F_FOR_5F_IMPLEMENTATION,
                                                                                      const GALGAS_attributeListForImplementation & /* in_ALL_5F_PROPERTIES_5F_FOR_5F_INIT_5F_METHOD_5F_HEADER */,
                                                                                      const GALGAS_attributeListForImplementation & /* in_INHERITED_5F_PROPERTIES_5F_FOR_5F_SUPER_5F_INIT_5F_CALL */,
                                                                                      const GALGAS_stringset & /* in_IMPLEMENTATION_5F_INCLUSION_5F_SET */,
                                                                                      const GALGAS_propertyArrayMap & /* in_CURRENT_5F_ARRAY_5F_MAP */
                                                                                      COMMA_UNUSED_LOCATION_ARGS) {
  C_String result ;
  result << "import Cocoa\n"
    "\n"
    "//----------------------------------------------------------------------------*\n"
    "\n"
    "@objc(" ;
  result << in_CLASS_5F_NAME.stringValue () ;
  result << ") class " ;
  result << in_CLASS_5F_NAME.stringValue () ;
  result << " : " ;
  const enumGalgasBool test_0 = GALGAS_bool (kIsEqual, in_SUPER_5F_CLASS_5F_NAME.objectCompare (GALGAS_string::makeEmptyString ())).boolEnum () ;
  if (kBoolTrue == test_0) {
    result << "NSObject" ;
  }else if (kBoolFalse == test_0) {
    result << in_SUPER_5F_CLASS_5F_NAME.stringValue () ;
  }
  result << " {\n"
    "\n" ;
  GALGAS_uint index_243_ (0) ;
  if (in_ATTRIBUTE_5F_LIST.isValid ()) {
    cEnumerator_attributeListForImplementation enumerator_243 (in_ATTRIBUTE_5F_LIST, kEnumeration_up) ;
    while (enumerator_243.hasCurrentObject ()) {
      result << categoryReader_generateAttributeDeclarationInSwift (enumerator_243.current_mType (HERE), GALGAS_string ("class"), in_CLASS_5F_NAME, enumerator_243.current_mAttributeName (HERE), enumerator_243.current_mDirectSwiftDefaultValue (HERE), GALGAS_bool (false), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 14)).stringValue () ;
      index_243_.increment () ;
      enumerator_243.gotoNextObject () ;
    }
  }
  GALGAS_uint index_431_ (0) ;
  if (in_TRANSIENT_5F_LIST_5F_FOR_5F_IMPLEMENTATION.isValid ()) {
    cEnumerator_transientListForImplementation enumerator_431 (in_TRANSIENT_5F_LIST_5F_FOR_5F_IMPLEMENTATION, kEnumeration_up) ;
    while (enumerator_431.hasCurrentObject ()) {
      result << "  //-------------------------------------------------------------------------------------------------------------------*\n"
        "  //    " ;
      result << GALGAS_string ("Transient: ").add_operation (enumerator_431.current_mTransientName (HERE), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 19)).reader_stringByRightPadding (GALGAS_uint ((uint32_t) 111U), GALGAS_char (TO_UNICODE (32)) COMMA_SOURCE_FILE ("class.swift.gTemplate", 19)).stringValue () ;
      result << "*\n"
        "  //-------------------------------------------------------------------------------------------------------------------*\n"
        "\n"
        "  var " ;
      result << enumerator_431.current_mTransientName (HERE).stringValue () ;
      result << "_observers = NSMutableSet ()\n"
        "  var " ;
      result << enumerator_431.current_mTransientName (HERE).stringValue () ;
      result << "__cache : " ;
      result << categoryReader_swiftTypeName (enumerator_431.current_mTransientType (HERE), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 22)).stringValue () ;
      result << "\?\n"
        "  var " ;
      result << enumerator_431.current_mTransientName (HERE).stringValue () ;
      result << " : " ;
      result << categoryReader_swiftTypeName (enumerator_431.current_mTransientType (HERE), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 23)).stringValue () ;
      result << " {\n" ;
      result << function_generateSwiftTransientCacheRoutine (in_CLASS_5F_NAME, enumerator_431.current_mTransientType (HERE), enumerator_431.current_mTransientName (HERE), enumerator_431.current_mDependencyList (HERE), enumerator_431.current_mRootSignDependencyList (HERE), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 24)).stringValue () ;
      result << "  }\n"
        "\n"
        "  func " ;
      result << GALGAS_string ("class.").add_operation (in_CLASS_5F_NAME, inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 27)).add_operation (GALGAS_string ("."), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 27)).add_operation (enumerator_431.current_mTransientName (HERE), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 27)).reader_identifierRepresentation (SOURCE_FILE ("class.swift.gTemplate", 27)).stringValue () ;
      result << "_didChange () {\n"
        "    self.willChangeValueForKey (\"" ;
      result << enumerator_431.current_mTransientName (HERE).stringValue () ;
      result << "\")\n"
        "    self.didChangeValueForKey  (\"" ;
      result << enumerator_431.current_mTransientName (HERE).stringValue () ;
      result << "\")\n"
        "    for anyObject in " ;
      result << enumerator_431.current_mTransientName (HERE).stringValue () ;
      result << "_observers {\n"
        "      let object = anyObject as PMTriggerProtocol\n"
        "      enterTriggerWithObject (object)\n"
        "    }\n"
        "  }\n"
        "\n"
        "   func addObserverOf_" ;
      result << enumerator_431.current_mTransientName (HERE).stringValue () ;
      result << " (inObserver : PMTriggerProtocol) {\n"
        "    " ;
      result << enumerator_431.current_mTransientName (HERE).stringValue () ;
      result << "_observers.addObject (inObserver)\n"
        "    enterTriggerWithObject (inObserver)\n"
        "  }\n"
        " \n"
        "  func removeObserverOf_" ;
      result << enumerator_431.current_mTransientName (HERE).stringValue () ;
      result << " (inObserver : PMTriggerProtocol) {\n"
        "    " ;
      result << enumerator_431.current_mTransientName (HERE).stringValue () ;
      result << "_observers.removeObject (inObserver)\n"
        "    enterTriggerWithObject (inObserver)\n"
        "  }\n"
        "\n"
        "  var triggerObjectFor_" ;
      result << GALGAS_string ("class.").add_operation (in_CLASS_5F_NAME, inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 46)).add_operation (GALGAS_string ("."), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 46)).add_operation (enumerator_431.current_mTransientName (HERE), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 46)).reader_identifierRepresentation (SOURCE_FILE ("class.swift.gTemplate", 46)).stringValue () ;
      result << "__cache : PMTrigger_" ;
      result << GALGAS_string ("class.").add_operation (in_CLASS_5F_NAME, inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 46)).add_operation (GALGAS_string ("."), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 46)).add_operation (enumerator_431.current_mTransientName (HERE), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 46)).reader_identifierRepresentation (SOURCE_FILE ("class.swift.gTemplate", 46)).stringValue () ;
      result << "\? = nil\n"
        "  var triggerObjectFor_" ;
      result << GALGAS_string ("class.").add_operation (in_CLASS_5F_NAME, inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 47)).add_operation (GALGAS_string ("."), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 47)).add_operation (enumerator_431.current_mTransientName (HERE), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 47)).reader_identifierRepresentation (SOURCE_FILE ("class.swift.gTemplate", 47)).stringValue () ;
      result << " : PMTrigger_" ;
      result << GALGAS_string ("class.").add_operation (in_CLASS_5F_NAME, inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 47)).add_operation (GALGAS_string ("."), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 47)).add_operation (enumerator_431.current_mTransientName (HERE), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 47)).reader_identifierRepresentation (SOURCE_FILE ("class.swift.gTemplate", 47)).stringValue () ;
      result << " {\n"
        "    if !triggerObjectFor_" ;
      result << GALGAS_string ("class.").add_operation (in_CLASS_5F_NAME, inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 48)).add_operation (GALGAS_string ("."), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 48)).add_operation (enumerator_431.current_mTransientName (HERE), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 48)).reader_identifierRepresentation (SOURCE_FILE ("class.swift.gTemplate", 48)).stringValue () ;
      result << "__cache {\n"
        "      triggerObjectFor_" ;
      result << GALGAS_string ("class.").add_operation (in_CLASS_5F_NAME, inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 49)).add_operation (GALGAS_string ("."), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 49)).add_operation (enumerator_431.current_mTransientName (HERE), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 49)).reader_identifierRepresentation (SOURCE_FILE ("class.swift.gTemplate", 49)).stringValue () ;
      result << "__cache = PMTrigger_" ;
      result << GALGAS_string ("class.").add_operation (in_CLASS_5F_NAME, inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 49)).add_operation (GALGAS_string ("."), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 49)).add_operation (enumerator_431.current_mTransientName (HERE), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 49)).reader_identifierRepresentation (SOURCE_FILE ("class.swift.gTemplate", 49)).stringValue () ;
      result << " (object:self)\n"
        "    }\n"
        "    return triggerObjectFor_" ;
      result << GALGAS_string ("class.").add_operation (in_CLASS_5F_NAME, inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 51)).add_operation (GALGAS_string ("."), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 51)).add_operation (enumerator_431.current_mTransientName (HERE), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 51)).reader_identifierRepresentation (SOURCE_FILE ("class.swift.gTemplate", 51)).stringValue () ;
      result << "__cache!\n"
        "  }\n"
        "  \n" ;
      index_431_.increment () ;
      enumerator_431.gotoNextObject () ;
    }
  }
  result << "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "  //    init                                                                                                           *\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "\n"
    "  init () {\n"
    "    super.init ()\n" ;
  const enumGalgasBool test_1 = GALGAS_bool (kIsEqual, in_SUPER_5F_CLASS_5F_NAME.objectCompare (GALGAS_string::makeEmptyString ())).boolEnum () ;
  if (kBoolTrue == test_1) {
    result << "    noteObjectAllocation (self)\n" ;
  }else if (kBoolFalse == test_1) {
  }
  result << "  //--- Add Transient observers\n" ;
  result << function_generateAddSwiftObserverForTransients (GALGAS_string ("class"), in_CLASS_5F_NAME, in_TRANSIENT_5F_LIST_5F_FOR_5F_IMPLEMENTATION, GALGAS_string ("    "), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 65)).stringValue () ;
  result << "  }\n"
    "\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "  //    deinit                                                                                                         *\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "\n"
    "  deinit {\n" ;
  const enumGalgasBool test_2 = GALGAS_bool (kIsEqual, in_SUPER_5F_CLASS_5F_NAME.objectCompare (GALGAS_string::makeEmptyString ())).boolEnum () ;
  if (kBoolTrue == test_2) {
    result << "    noteObjectDeallocation (self)\n" ;
  }else if (kBoolFalse == test_2) {
  }
  result << function_generateRemoveSwiftObserverForTransients (GALGAS_string ("class"), in_CLASS_5F_NAME, in_TRANSIENT_5F_LIST_5F_FOR_5F_IMPLEMENTATION, GALGAS_string ("    "), inCompiler COMMA_SOURCE_FILE ("class.swift.gTemplate", 76)).stringValue () ;
  result << "  }\n"
    "\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "\n"
    "}\n"
    "\n"
    "//----------------------------------------------------------------------------*\n"
    "\n" ;
  return GALGAS_string (result) ;
}

//-----------------------------------------------------------------------------*
//                                                                             *
//         Overriding category method '@classTypeGeneration generate'          *
//                                                                             *
//-----------------------------------------------------------------------------*

static void categoryMethod_classTypeGeneration_generate (const cPtr_generation * inObject,
                                                         const GALGAS_string constinArgument_inOutputDirectory,
                                                         C_Compiler * inCompiler
                                                         COMMA_UNUSED_LOCATION_ARGS) {
  const cPtr_classTypeGeneration * object = (const cPtr_classTypeGeneration *) inObject ;
  macroValidSharedObject (object, cPtr_classTypeGeneration) ;
  GALGAS_string var_s = GALGAS_string (filewrapperTemplate_classGenerationTemplate_classImplementationInSwift (inCompiler, object->mAttribute_mGenerationName, object->mAttribute_mSuperClassName, object->mAttribute_mAttributeListForImplementation, object->mAttribute_mTransientListForImplementation, object->mAttribute_mAttributeListForInitMethodHeader, object->mAttribute_mInheritedAttributeListForImplementation, object->mAttribute_mInclusionSet.mAttribute_mImplementationFileInclusionSet, object->mAttribute_mCurrentArrayPropertyForImplementation COMMA_SOURCE_FILE ("classGeneration.gSemantics", 69))) ;
  {
  GALGAS_string::class_method_generateFileWithPattern (constinArgument_inOutputDirectory, object->mAttribute_mGenerationName.operator_concat (GALGAS_string (".swift")  COMMA_SOURCE_FILE ("classGeneration.gSemantics", 81)), GALGAS_string ("//"), GALGAS_string ("\n"
    "\n"), var_s, GALGAS_string ("\n"
    "\n"), GALGAS_string ("\n"), inCompiler COMMA_SOURCE_FILE ("classGeneration.gSemantics", 79)) ;
  }
}
//-----------------------------------------------------------------------------*

static void defineCategoryMethod_classTypeGeneration_generate (void) {
  enterCategoryMethod_generate (kTypeDescriptor_GALGAS_classTypeGeneration.mSlotID,
                                categoryMethod_classTypeGeneration_generate) ;
}

//-----------------------------------------------------------------------------*

C_PrologueEpilogue gMethod_classTypeGeneration_generate (defineCategoryMethod_classTypeGeneration_generate, NULL) ;

//--- START OF USER ZONE 2


//--- END OF USER ZONE 2


