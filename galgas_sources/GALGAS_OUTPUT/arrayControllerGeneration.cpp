//---------------------------------------------------------------------------------------------------------------------*
//                                                                                                                     *
//                                        File 'arrayControllerGeneration.cpp'                                         *
//                                             Generated by version 3.0.0                                              *
//                                         september 12th, 2014, at 18h45'41"                                          *
//                                                                                                                     *
//---------------------------------------------------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

#include "galgas2/C_Compiler.h"
#include "galgas2/C_galgas_io.h"
#include "galgas2/C_galgas_CLI_Options.h"
#include "utilities/C_PrologueEpilogue.h"

//---------------------------------------------------------------------------------------------------------------------*

#include "easyBindings_options.h"
#include "arrayControllerGeneration.h"


//---------------------------------------------------------------------------------------------------------------------*
//                                                                                                                     *
//                                Filewrapper 'collectionControllerGenerationTemplate'                                 *
//                                                                                                                     *
//---------------------------------------------------------------------------------------------------------------------*

//--- File '/cell-Integer-PMTextField.txt'

const char * gWrapperFileContent_0_collectionControllerGenerationTemplate = "      result.textField.objectValue = NSNumber (integer:object.$MODEL$)\n"
  "      result.textField.target = self\n"
  "      result.textField.action = \"set_$MODEL$_Action:\"\n"
  "      let tf : PMTextField = result.textField as PMTextField\n"
  "      tf.setSendContinously (true)\n" ;

const cRegularFileWrapper gWrapperFile_0_collectionControllerGenerationTemplate (
  "cell-Integer-PMTextField.txt",
  "txt",
  true, // Text file
  258, // Text length
  gWrapperFileContent_0_collectionControllerGenerationTemplate
) ;

//--- File '/cell-String-PMTextField.txt'

const char * gWrapperFileContent_1_collectionControllerGenerationTemplate = "      result.textField.stringValue = object.$MODEL$\n"
  "      result.textField.target = self\n"
  "      result.textField.action = \"set_$MODEL$_Action:\"\n"
  "      let tf : PMTextField = result.textField as PMTextField\n"
  "      tf.setSendContinously (true)\n" ;

const cRegularFileWrapper gWrapperFile_1_collectionControllerGenerationTemplate (
  "cell-String-PMTextField.txt",
  "txt",
  true, // Text file
  239, // Text length
  gWrapperFileContent_1_collectionControllerGenerationTemplate
) ;

//--- All files of '' directory

static const cRegularFileWrapper * gWrapperAllFiles_collectionControllerGenerationTemplate_0 [3] = {
  & gWrapperFile_0_collectionControllerGenerationTemplate,
  & gWrapperFile_1_collectionControllerGenerationTemplate,
  NULL
} ;

//--- All sub-directories of '' directory

static const cDirectoryWrapper * gWrapperAllDirectories_collectionControllerGenerationTemplate_0 [1] = {
  NULL
} ;

//--- Directory ''

const cDirectoryWrapper gWrapperDirectory_0_collectionControllerGenerationTemplate (
  "",
  2,
  gWrapperAllFiles_collectionControllerGenerationTemplate_0,
  0,
  gWrapperAllDirectories_collectionControllerGenerationTemplate_0
) ;


//---------------------------------------------------------------------------------------------------------------------*
//                                                                                                                     *
//         Filewrapper template 'collectionControllerGenerationTemplate arrayControllerImplementationInSwift'          *
//                                                                                                                     *
//---------------------------------------------------------------------------------------------------------------------*

GALGAS_string filewrapperTemplate_collectionControllerGenerationTemplate_arrayControllerImplementationInSwift (C_Compiler * inCompiler,
                                                                                                               const GALGAS_string & in_OBJECT_5F_TYPE_5F_NAME,
                                                                                                               const GALGAS_string & in_RELATIONSHIP_5F_NAME,
                                                                                                               const GALGAS_string & in_ELEMENT_5F_TYPE_5F_NAME,
                                                                                                               const GALGAS_string & in_TABLE_5F_VIEW_5F_OUTLET_5F_NAME,
                                                                                                               const GALGAS_arrayControllerBoundColumnListForGeneration & in_BOUND_5F_COLUMNS,
                                                                                                               const GALGAS_filewrapper & in_FILE_5F_WRAPPER
                                                                                                               COMMA_UNUSED_LOCATION_ARGS) {
  C_String result ;
  result << "\n"
    "import Cocoa\n"
    "\n"
    "//\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""*\n"
    "//    " ;
  result << GALGAS_string ("TriggerFor_").add_operation (in_OBJECT_5F_TYPE_5F_NAME, inCompiler COMMA_SOURCE_FILE ("array-controller.swift.gTemplate", 5)).add_operation (GALGAS_string ("_"), inCompiler COMMA_SOURCE_FILE ("array-controller.swift.gTemplate", 5)).add_operation (in_RELATIONSHIP_5F_NAME, inCompiler COMMA_SOURCE_FILE ("array-controller.swift.gTemplate", 5)).add_operation (GALGAS_string ("_"), inCompiler COMMA_SOURCE_FILE ("array-controller.swift.gTemplate", 5)).add_operation (in_TABLE_5F_VIEW_5F_OUTLET_5F_NAME, inCompiler COMMA_SOURCE_FILE ("array-controller.swift.gTemplate", 5)).reader_stringByRightPadding (GALGAS_uint ((uint32_t) 113U), GALGAS_char (TO_UNICODE (32)) COMMA_SOURCE_FILE ("array-controller.swift.gTemplate", 5)).stringValue () ;
  result << "*\n"
    "//\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""*\n"
    "\n"
    "@objc(TriggerFor_" ;
  result << in_OBJECT_5F_TYPE_5F_NAME.stringValue () ;
  result << "_" ;
  result << in_RELATIONSHIP_5F_NAME.stringValue () ;
  result << "_" ;
  result << in_TABLE_5F_VIEW_5F_OUTLET_5F_NAME.stringValue () ;
  result << ")\n"
    "class TriggerFor_" ;
  result << in_OBJECT_5F_TYPE_5F_NAME.stringValue () ;
  result << "_" ;
  result << in_RELATIONSHIP_5F_NAME.stringValue () ;
  result << "_" ;
  result << in_TABLE_5F_VIEW_5F_OUTLET_5F_NAME.stringValue () ;
  result << " : NSObject, PMTriggerProtocol {\n"
    "  private weak var mArrayController : ArrayController_" ;
  result << in_OBJECT_5F_TYPE_5F_NAME.stringValue () ;
  result << "_" ;
  result << in_RELATIONSHIP_5F_NAME.stringValue () ;
  result << "\? = nil\n"
    "  \n"
    "  var mTransientIndex : Int { get { return kTriggerOutletDisplay } }\n"
    "  \n"
    "  init (object : ArrayController_" ;
  result << in_OBJECT_5F_TYPE_5F_NAME.stringValue () ;
  result << "_" ;
  result << in_RELATIONSHIP_5F_NAME.stringValue () ;
  result << ") {\n"
    "    mArrayController = object\n"
    "    super.init ()\n"
    "    noteObjectAllocation (self) ;\n"
    "  }\n"
    "  \n"
    "  func unregister () {\n"
    "  }\n"
    "  \n"
    "  deinit {\n"
    "    noteObjectDeallocation (self) ;\n"
    "  }\n"
    "\n"
    "  func noteTransientDidChange () {\n"
    "  }\n"
    "  \n"
    "  func trigger () {\n"
    "    mArrayController\?.reloadData ()\n"
    "  }\n"
    "}\n"
    "\n"
    "//\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""*\n"
    "//    " ;
  result << GALGAS_string ("ArrayController_").add_operation (in_OBJECT_5F_TYPE_5F_NAME, inCompiler COMMA_SOURCE_FILE ("array-controller.swift.gTemplate", 36)).add_operation (GALGAS_string ("_"), inCompiler COMMA_SOURCE_FILE ("array-controller.swift.gTemplate", 36)).add_operation (in_RELATIONSHIP_5F_NAME, inCompiler COMMA_SOURCE_FILE ("array-controller.swift.gTemplate", 36)).reader_stringByRightPadding (GALGAS_uint ((uint32_t) 113U), GALGAS_char (TO_UNICODE (32)) COMMA_SOURCE_FILE ("array-controller.swift.gTemplate", 36)).stringValue () ;
  result << "*\n"
    "//\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""\xE2""\x80""\x94""*\n"
    "\n"
    "@objc(ArrayController_" ;
  result << in_OBJECT_5F_TYPE_5F_NAME.stringValue () ;
  result << "_" ;
  result << in_RELATIONSHIP_5F_NAME.stringValue () ;
  result << ")\n"
    "class ArrayController_" ;
  result << in_OBJECT_5F_TYPE_5F_NAME.stringValue () ;
  result << "_" ;
  result << in_RELATIONSHIP_5F_NAME.stringValue () ;
  result << " : NSObject, NSTableViewDataSource, NSTableViewDelegate {\n"
    "  private var mUndoManager : NSUndoManager\?\n"
    "  private var mObject : " ;
  result << in_OBJECT_5F_TYPE_5F_NAME.stringValue () ;
  result << "\n"
    "  private var mTableView : PMTableView\?\n"
    "  private var mDisplayTrigger : TriggerFor_" ;
  result << in_OBJECT_5F_TYPE_5F_NAME.stringValue () ;
  result << "_" ;
  result << in_RELATIONSHIP_5F_NAME.stringValue () ;
  result << "_" ;
  result << in_TABLE_5F_VIEW_5F_OUTLET_5F_NAME.stringValue () ;
  result << "\? = nil\n"
    "\n"
    "  private var mCurrentObjectSet = NSMutableSet ()\n"
    "  private var mCurrentObjectArray = NSMutableArray ()\n"
    "  private var mSelectedObjectArray : NSArray = NSArray () {\n"
    "    didSet {\n"
    "      updateCanRemoveProperty ()\n"
    "    }\n"
    "  }\n"
    " \n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "  //    init                                                                                                           *\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "\n"
    "  init (object : " ;
  result << in_OBJECT_5F_TYPE_5F_NAME.stringValue () ;
  result << ", tableView:PMTableView\?, file:String, line:Int) {\n"
    "    mObject = object\n"
    "    mTableView = tableView\n"
    "    mUndoManager = object.undoManager ()\n"
    "    super.init ()\n"
    "    if let unwrappedTableView = tableView {\n"
    "      var ok = true\n" ;
  GALGAS_uint index_2773_ (0) ;
  if (in_BOUND_5F_COLUMNS.isValid ()) {
    cEnumerator_arrayControllerBoundColumnListForGeneration enumerator_2773 (in_BOUND_5F_COLUMNS, kEnumeration_up) ;
    while (enumerator_2773.hasCurrentObject ()) {
      result << "      if let anyObject: AnyObject = unwrappedTableView.makeViewWithIdentifier (\"" ;
      result << enumerator_2773.current_mColumnName (HERE).stringValue () ;
      result << "\", owner:self) {\n"
        "        if let unwrappedTableCellView = anyObject as\? NSTableCellView {\n"
        "          if !(unwrappedTableCellView.textField is " ;
      result << enumerator_2773.current_mColumnOutletTypeName (HERE).stringValue () ;
      result << ") {\n"
        "            presentErrorWindow (file, line, \"\\\"" ;
      result << enumerator_2773.current_mColumnName (HERE).stringValue () ;
      result << "\\\" column view is not an instance of " ;
      result << enumerator_2773.current_mColumnOutletTypeName (HERE).stringValue () ;
      result << "\")\n"
        "            ok = false\n"
        "          }\n"
        "        }else{\n"
        "          presentErrorWindow (file, line, \"\\\"" ;
      result << enumerator_2773.current_mColumnName (HERE).stringValue () ;
      result << "\\\" column cell view is not an instance of NSTableCellView\")\n"
        "          ok = false\n"
        "        }\n"
        "      }else{\n"
        "        presentErrorWindow (file, line, \"\\\"" ;
      result << enumerator_2773.current_mColumnName (HERE).stringValue () ;
      result << "\\\" column view unknown\")\n"
        "        ok = false\n"
        "      }\n" ;
      index_2773_.increment () ;
      enumerator_2773.gotoNextObject () ;
    }
  }
  result << "      if ok {\n"
    "        unwrappedTableView.setDataSource (self)\n"
    "        unwrappedTableView.setDelegate (self)\n"
    "        mDisplayTrigger = TriggerFor_" ;
  result << in_OBJECT_5F_TYPE_5F_NAME.stringValue () ;
  result << "_" ;
  result << in_RELATIONSHIP_5F_NAME.stringValue () ;
  result << "_" ;
  result << in_TABLE_5F_VIEW_5F_OUTLET_5F_NAME.stringValue () ;
  result << " (object: self)\n" ;
  GALGAS_uint index_3746_ (0) ;
  if (in_BOUND_5F_COLUMNS.isValid ()) {
    cEnumerator_arrayControllerBoundColumnListForGeneration enumerator_3746 (in_BOUND_5F_COLUMNS, kEnumeration_up) ;
    while (enumerator_3746.hasCurrentObject ()) {
      result << "        let col_" ;
      result << enumerator_3746.current_mObservablePropertyName (HERE).stringValue () ;
      result << " : NSTableColumn = unwrappedTableView.tableColumnWithIdentifier (\"" ;
      result << enumerator_3746.current_mColumnName (HERE).stringValue () ;
      result << "\")\n"
        "        col_" ;
      result << enumerator_3746.current_mObservablePropertyName (HERE).stringValue () ;
      result << ".sortDescriptorPrototype = NSSortDescriptor (key:\"" ;
      result << enumerator_3746.current_mObservablePropertyName (HERE).stringValue () ;
      result << "\", ascending:true)\n" ;
      index_3746_.increment () ;
      enumerator_3746.gotoNextObject () ;
    }
  }
  result << "        let columns = unwrappedTableView.tableColumns as NSArray\n"
    "        if columns.count > 0 {\n"
    "          let firstColumn = columns [0] as NSTableColumn\n"
    "          unwrappedTableView.sortDescriptors = NSArray (object:firstColumn.sortDescriptorPrototype)\n"
    "        }\n"
    "      }\n"
    "    }\n"
    "    noteObjectAllocation (self)\n"
    "  }\n"
    "\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "  //    unregister                                                                                                     *\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "\n"
    "  func unregister () {\n"
    "    for object : AnyObject in mCurrentObjectSet {\n"
    "      let managedObject = object as  " ;
  result << in_ELEMENT_5F_TYPE_5F_NAME.stringValue () ;
  result << "\n" ;
  GALGAS_uint index_4856_ (0) ;
  if (in_BOUND_5F_COLUMNS.isValid ()) {
    cEnumerator_arrayControllerBoundColumnListForGeneration enumerator_4856 (in_BOUND_5F_COLUMNS, kEnumeration_up) ;
    while (enumerator_4856.hasCurrentObject ()) {
      result << "      managedObject.removeObserverOf_" ;
      result << enumerator_4856.current_mObservablePropertyName (HERE).stringValue () ;
      result << " (mTriggerObjectForModelChange, inTrigger:false)\n" ;
      index_4856_.increment () ;
      enumerator_4856.gotoNextObject () ;
    }
  }
  result << "    }\n"
    "  }\n"
    "  \n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "  //    deinit                                                                                                         *\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "\n"
    "  deinit {\n"
    "    noteObjectDeallocation (self)\n"
    "  }\n"
    "\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "  //    arrayModelSizeDidChange                                                                                        *\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "\n"
    "  func arrayModelSizeDidChange () {\n"
    "    if let trigger = mDisplayTrigger {\n"
    "      enterTriggerWithObject (trigger)\n"
    "    }\n"
    "  }\n"
    "  \n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "  //    tableViewSelectionDidChange                                                                                    *\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "\n"
    "  func tableViewSelectionDidChange (NSNotification!) {\n"
    "    var selectedObjectArray = NSMutableArray ()\n"
    "    if let tableView = mTableView {\n"
    "      let selectedRowIndexes = tableView.selectedRowIndexes\n"
    "      selectedRowIndexes.enumerateIndexesUsingBlock ({(idx : Int, stop : UnsafeMutablePointer <ObjCBool>) in\n"
    "        stop.initialize (false)\n"
    "        let object = self.mCurrentObjectArray.objectAtIndex (idx, file:__FILE__, line:__LINE__) as\? " ;
  result << in_ELEMENT_5F_TYPE_5F_NAME.stringValue () ;
  result << "\n"
    "        if let unwrappedObject = object {\n"
    "          selectedObjectArray.addObject (unwrappedObject)\n"
    "        }\n"
    "      })\n"
    "    }\n"
    "    mSelectedObjectArray = selectedObjectArray\n"
    "    // NSLog (\"mSelectedObjectArray %d\", mSelectedObjectArray.count)\n"
    "  }\n"
    "\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "  //    tableView:sortDescriptorsDidChange: NSTableViewDataSource delegate                                             *\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "\n"
    "  func tableView (aTableView: NSTableView!,\n"
    "                 sortDescriptorsDidChange oldDescriptors: [AnyObject]!) {\n"
    "    let sortDescriptors : [AnyObject]! = mTableView\?.sortDescriptors\n"
    "    mCurrentObjectArray.sortUsingDescriptors (sortDescriptors)\n"
    "    refreshDisplay ()\n"
    "  }\n"
    "\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "  //    Observing model change                                                                                         *\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "  \n"
    "  func reloadData () {\n"
    "    mCurrentObjectArray = mObject." ;
  result << in_RELATIONSHIP_5F_NAME.stringValue () ;
  result << ".mutableCopy () as NSMutableArray\n"
    "    let sortDescriptors : [AnyObject]! = mTableView\?.sortDescriptors\n"
    "    mCurrentObjectArray.sortUsingDescriptors (sortDescriptors)\n"
    "  //--- Update observers for handling model change\n"
    "    let oldObjectSet = mCurrentObjectSet\n"
    "    mCurrentObjectSet = NSMutableSet ()\n"
    "    mCurrentObjectSet.addObjectsFromArray (mObject." ;
  result << in_RELATIONSHIP_5F_NAME.stringValue () ;
  result << ")\n"
    "  //--- Removed object set\n"
    "    var removedObjectSet = NSMutableSet ()\n"
    "    removedObjectSet.setSet (oldObjectSet)\n"
    "    removedObjectSet.minusSet (mCurrentObjectSet)\n"
    "    for object : AnyObject in removedObjectSet {\n"
    "      let managedObject = object as  " ;
  result << in_ELEMENT_5F_TYPE_5F_NAME.stringValue () ;
  result << "\n" ;
  GALGAS_uint index_8721_ (0) ;
  if (in_BOUND_5F_COLUMNS.isValid ()) {
    cEnumerator_arrayControllerBoundColumnListForGeneration enumerator_8721 (in_BOUND_5F_COLUMNS, kEnumeration_up) ;
    while (enumerator_8721.hasCurrentObject ()) {
      result << "      managedObject.removeObserverOf_" ;
      result << enumerator_8721.current_mObservablePropertyName (HERE).stringValue () ;
      result << " (mTriggerObjectForModelChange, inTrigger:false)\n" ;
      index_8721_.increment () ;
      enumerator_8721.gotoNextObject () ;
    }
  }
  result << "    }\n"
    "  //--- Added object set\n"
    "    var addedObjectSet = NSMutableSet ()\n"
    "    addedObjectSet.setSet (mCurrentObjectSet)\n"
    "    addedObjectSet.minusSet (oldObjectSet)\n"
    "    for object : AnyObject in addedObjectSet {\n"
    "      let managedObject = object as  " ;
  result << in_ELEMENT_5F_TYPE_5F_NAME.stringValue () ;
  result << "\n" ;
  GALGAS_uint index_9137_ (0) ;
  if (in_BOUND_5F_COLUMNS.isValid ()) {
    cEnumerator_arrayControllerBoundColumnListForGeneration enumerator_9137 (in_BOUND_5F_COLUMNS, kEnumeration_up) ;
    while (enumerator_9137.hasCurrentObject ()) {
      result << "      managedObject.addObserverOf_" ;
      result << enumerator_9137.current_mObservablePropertyName (HERE).stringValue () ;
      result << " (mTriggerObjectForModelChange, inTrigger:false)\n" ;
      index_9137_.increment () ;
      enumerator_9137.gotoNextObject () ;
    }
  }
  result << "    }\n"
    "    refreshDisplay ()\n"
    "  }\n"
    "\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "  \n"
    "  func refreshDisplay () {\n"
    "    mTableView\?.reloadData ()\n"
    "  //--- try to restore selection (if any)\n"
    "    var newSelectionIndexSet = NSMutableIndexSet ()\n"
    "    for object in mSelectedObjectArray {\n"
    "      let idx = mCurrentObjectArray.indexOfObjectIdenticalTo (object)\n"
    "      if idx != NSNotFound {\n"
    "        newSelectionIndexSet.addIndex (idx)\n"
    "      }\n"
    "    }\n"
    "    mTableView\?.selectRowIndexes (newSelectionIndexSet, byExtendingSelection:false)\n"
    "  }\n"
    "\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "\n"
    "  private var mTriggerObjectForModelChange_cache : TriggerFor_" ;
  result << in_OBJECT_5F_TYPE_5F_NAME.stringValue () ;
  result << "_" ;
  result << in_RELATIONSHIP_5F_NAME.stringValue () ;
  result << "_" ;
  result << in_TABLE_5F_VIEW_5F_OUTLET_5F_NAME.stringValue () ;
  result << "\? = nil\n"
    "  private var mTriggerObjectForModelChange : TriggerFor_" ;
  result << in_OBJECT_5F_TYPE_5F_NAME.stringValue () ;
  result << "_" ;
  result << in_RELATIONSHIP_5F_NAME.stringValue () ;
  result << "_" ;
  result << in_TABLE_5F_VIEW_5F_OUTLET_5F_NAME.stringValue () ;
  result << " {\n"
    "    get {\n"
    "      if mTriggerObjectForModelChange_cache == nil {\n"
    "        mTriggerObjectForModelChange_cache = TriggerFor_" ;
  result << in_OBJECT_5F_TYPE_5F_NAME.stringValue () ;
  result << "_" ;
  result << in_RELATIONSHIP_5F_NAME.stringValue () ;
  result << "_" ;
  result << in_TABLE_5F_VIEW_5F_OUTLET_5F_NAME.stringValue () ;
  result << " (object:self)\n"
    "      }\n"
    "      return mTriggerObjectForModelChange_cache!\n"
    "    }\n"
    "  }\n"
    "\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "  //    T A B L E V I E W    D A T A S O U R C E                                                                       *\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "  // http://thegreyblog.blogspot.fr/2014/06/nscontroltexteditingdelegate-methods.html\n"
    "\n"
    "  func numberOfRowsInTableView (NSTableView!) -> Int {\n"
    "    return mCurrentObjectArray.count\n"
    "  }\n"
    "\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "\n"
    "  func tableView (tableView : NSTableView,\n"
    "                  viewForTableColumn : NSTableColumn,\n"
    "                  row : NSInteger) -> NSView! {\n"
    "    let columnIdentifier = viewForTableColumn.identifier as String\n"
    "    var result : NSTableCellView = tableView.makeViewWithIdentifier (columnIdentifier, owner:self) as NSTableCellView\n"
    "    let object = mCurrentObjectArray.objectAtIndex (row, file:__FILE__, line:__LINE__) as  " ;
  result << in_ELEMENT_5F_TYPE_5F_NAME.stringValue () ;
  result << "\n"
    "   " ;
  GALGAS_uint index_11644_ (0) ;
  if (in_BOUND_5F_COLUMNS.isValid ()) {
    cEnumerator_arrayControllerBoundColumnListForGeneration enumerator_11644 (in_BOUND_5F_COLUMNS, kEnumeration_up) ;
    while (enumerator_11644.hasCurrentObject ()) {
      result << " if columnIdentifier == \"" ;
      result << enumerator_11644.current_mColumnName (HERE).stringValue () ;
      result << "\" {\n" ;
      result << in_FILE_5F_WRAPPER.reader_textFileContentsAtPath (GALGAS_string ("/cell-").add_operation (enumerator_11644.current_mPropertyType (HERE).reader_key (inCompiler COMMA_SOURCE_FILE ("array-controller.swift.gTemplate", 251)), inCompiler COMMA_SOURCE_FILE ("array-controller.swift.gTemplate", 251)).add_operation (GALGAS_string ("-"), inCompiler COMMA_SOURCE_FILE ("array-controller.swift.gTemplate", 251)).add_operation (enumerator_11644.current_mColumnOutletTypeName (HERE), inCompiler COMMA_SOURCE_FILE ("array-controller.swift.gTemplate", 251)).add_operation (GALGAS_string (".txt"), inCompiler COMMA_SOURCE_FILE ("array-controller.swift.gTemplate", 251)), inCompiler COMMA_SOURCE_FILE ("array-controller.swift.gTemplate", 251)).reader_stringByReplacingStringByString (GALGAS_string ("$MODEL$"), enumerator_11644.current_mObservablePropertyName (HERE), inCompiler COMMA_SOURCE_FILE ("array-controller.swift.gTemplate", 251)).stringValue () ;
      result << "    }" ;
      if (enumerator_11644.hasNextObject ()) {
        result << "else" ;
      }
      index_11644_.increment () ;
      enumerator_11644.gotoNextObject () ;
    }
  }
  result << "\n"
    "    return result\n"
    "  }\n"
    "\n"
    " " ;
  GALGAS_uint index_11955_ (0) ;
  if (in_BOUND_5F_COLUMNS.isValid ()) {
    cEnumerator_arrayControllerBoundColumnListForGeneration enumerator_11955 (in_BOUND_5F_COLUMNS, kEnumeration_up) ;
    while (enumerator_11955.hasCurrentObject ()) {
      result << " //-------------------------------------------------------------------------------------------------------------------*\n"
        "\n"
        "  func set_" ;
      result << enumerator_11955.current_mObservablePropertyName (HERE).stringValue () ;
      result << "_Action (sender : " ;
      result << enumerator_11955.current_mColumnOutletTypeName (HERE).stringValue () ;
      result << ") {\n"
        "    if let tableView = mTableView {\n"
        "      let row = tableView.rowForView (sender)\n"
        "      if row >= 0 {\n"
        "        let object = mCurrentObjectArray.objectAtIndex (row, file:__FILE__, line:__LINE__) as " ;
      result << in_ELEMENT_5F_TYPE_5F_NAME.stringValue () ;
      result << "\n"
        "        object.removeObserverOf_" ;
      result << enumerator_11955.current_mObservablePropertyName (HERE).stringValue () ;
      result << " (mTriggerObjectForModelChange, inTrigger:false)\n"
        "        object." ;
      result << enumerator_11955.current_mObservablePropertyName (HERE).stringValue () ;
      result << " = " ;
      result << categoryReader_transformerForTableViewAction (enumerator_11955.current_mPropertyType (HERE), GALGAS_string ("sender"), inCompiler COMMA_SOURCE_FILE ("array-controller.swift.gTemplate", 269)).stringValue () ;
      result << "\n"
        "        object.addObserverOf_" ;
      result << enumerator_11955.current_mObservablePropertyName (HERE).stringValue () ;
      result << " (mTriggerObjectForModelChange, inTrigger:false)\n"
        "      }\n"
        "    }\n"
        "  }\n"
        "\n" ;
      index_11955_.increment () ;
      enumerator_11955.gotoNextObject () ;
    }
  }
  result << " //-------------------------------------------------------------------------------------------------------------------*\n"
    "\n"
    "  func control (control: NSControl!,\n"
    "                didFailToValidatePartialString: String!,\n"
    "                errorDescription: String!) {\n"
    "     NSLog (\"didFailToValidatePartialString\")\n"
    "  }\n"
    "  \n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "  //    add                                                                                                            *\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "\n"
    "  func add (inSender : AnyObject!) {\n"
    "    var newObject : PMManagedObject = " ;
  result << in_ELEMENT_5F_TYPE_5F_NAME.stringValue () ;
  result << " (undoManager:mUndoManager!)\n"
    "    var array : NSMutableArray = mObject." ;
  result << in_RELATIONSHIP_5F_NAME.stringValue () ;
  result << ".mutableCopy () as NSMutableArray\n"
    "    array.addObject (newObject)\n"
    "    mObject." ;
  result << in_RELATIONSHIP_5F_NAME.stringValue () ;
  result << " = array\n"
    "  }\n"
    "\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "  //    remove                                                                                                         *\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "\n"
    "  func remove (inSender : AnyObject!) {\n"
    "    if let tableView = mTableView {\n"
    "      var newObjectArray = mObject.mNames.mutableCopy () as NSMutableArray\n"
    "      for object in mSelectedObjectArray {\n"
    "        newObjectArray.removeObjectIdenticalTo (object)\n"
    "      }\n"
    "      mObject.mNames = newObjectArray\n"
    "      mSelectedObjectArray = NSArray ()\n"
    "    }\n"
    "  }\n"
    "\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "  //  Transient: canRemove                                                                                             *\n"
    "  //-------------------------------------------------------------------------------------------------------------------*\n"
    "\n"
    "  private var canRemove_private = false // As array is empty initially\n"
    "  var canRemove : Bool { get { return canRemove_private } }\n"
    "  \n"
    "  func updateCanRemoveProperty () {\n"
    "    let newValue = mSelectedObjectArray.count > 0\n"
    "    if canRemove_private != newValue {\n"
    "      canRemove_private = newValue\n"
    "      for anyObject in canRemove_observers {\n"
    "        let object = anyObject as PMTriggerProtocol\n"
    "        enterTriggerWithObject (object)\n"
    "      }\n"
    "    }\n"
    "  }\n"
    "  \n"
    "  private var canRemove_observers = NSMutableSet ()\n"
    "  \n"
    "  func addObserverOf_canRemove (inObserver : PMTriggerProtocol, inTrigger:Bool) {\n"
    "    canRemove_observers.addObject (inObserver)\n"
    "    if inTrigger {\n"
    "      enterTriggerWithObject (inObserver)\n"
    "    }\n"
    "  }\n"
    " \n"
    "  func removeObserverOf_canRemove (inObserver : PMTriggerProtocol, inTrigger:Bool) {\n"
    "    canRemove_observers.removeObject (inObserver)\n"
    "    if inTrigger {\n"
    "      enterTriggerWithObject (inObserver)\n"
    "    }\n"
    "  }\n"
    "\n"
    "}\n"
    "\n"
    "//---------------------------------------------------------------------------------------------------------------------*\n" ;
  return GALGAS_string (result) ;
}

//---------------------------------------------------------------------------------------------------------------------*
//                                                                                                                     *
//                                         Routine 'generateArrayControllers'                                          *
//                                                                                                                     *
//---------------------------------------------------------------------------------------------------------------------*

void routine_generateArrayControllers (const GALGAS_arrayControllerForGeneration constinArgument_inArrayControllerListForGeneration,
                                       const GALGAS_string constinArgument_inOutputDirectory,
                                       C_Compiler * inCompiler
                                       COMMA_UNUSED_LOCATION_ARGS) {
  cEnumerator_arrayControllerForGeneration enumerator_956 (constinArgument_inArrayControllerListForGeneration, kEnumeration_up) ;
  while (enumerator_956.hasCurrentObject ()) {
    GALGAS_string var_s = GALGAS_string (filewrapperTemplate_collectionControllerGenerationTemplate_arrayControllerImplementationInSwift (inCompiler, enumerator_956.current_mObjectTypeName (HERE), enumerator_956.current_mTomanyRelationshipName (HERE), enumerator_956.current_mElementTypeName (HERE), enumerator_956.current_mTableViewOutletName (HERE), enumerator_956.current_mArrayControllerBoundColumnListForGeneration (HERE), GALGAS_filewrapper (gWrapperDirectory_0_collectionControllerGenerationTemplate) COMMA_SOURCE_FILE ("arrayControllerGeneration.gSemantics", 29))) ;
    {
    GALGAS_string::class_method_generateFile (constinArgument_inOutputDirectory, GALGAS_string ("arrayController-").add_operation (enumerator_956.current_mObjectTypeName (HERE), inCompiler COMMA_SOURCE_FILE ("arrayControllerGeneration.gSemantics", 39)).add_operation (GALGAS_string ("-"), inCompiler COMMA_SOURCE_FILE ("arrayControllerGeneration.gSemantics", 39)).add_operation (enumerator_956.current_mTomanyRelationshipName (HERE), inCompiler COMMA_SOURCE_FILE ("arrayControllerGeneration.gSemantics", 39)).add_operation (GALGAS_string (".swift"), inCompiler COMMA_SOURCE_FILE ("arrayControllerGeneration.gSemantics", 39)), var_s, inCompiler COMMA_SOURCE_FILE ("arrayControllerGeneration.gSemantics", 37)) ;
    }
    enumerator_956.gotoNextObject () ;
  }
}


//--- START OF USER ZONE 2


//--- END OF USER ZONE 2


