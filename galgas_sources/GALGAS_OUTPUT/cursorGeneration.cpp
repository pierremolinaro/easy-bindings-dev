//-----------------------------------------------------------------------------*
//                                                                             *
//                        File 'cursorGeneration.cpp'                          *
//                         Generated by version 2.6.0                          *
//                       july 28th, 2014, at 13h38'36"                         *
//                                                                             *
//-----------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

#include "cursorGeneration.h"
#include "galgas2/C_Compiler.h"
#include "galgas2/C_galgas_io.h"
#include "galgas2/C_galgas_CLI_Options.h"
#include "utilities/C_PrologueEpilogue.h"

//-----------------------------------------------------------------------------*

#include "easyBindings_options.h"

//-----------------------------------------------------------------------------*

#ifndef DO_NOT_GENERATE_CHECKINGS
  #define SOURCE_FILE_AT_LINE(line) "cursorGeneration.gSemantics", line
  #define COMMA_SOURCE_FILE_AT_LINE(line) , SOURCE_FILE_AT_LINE(line)
#else
  #define SOURCE_FILE_AT_LINE(line) 
  #define COMMA_SOURCE_FILE_AT_LINE(line) 
#endif

//-----------------------------------------------------------------------------*
//                                                                             *
//                   Filewrapper 'cursorsGenerationTemplate'                   *
//                                                                             *
//-----------------------------------------------------------------------------*

//--- All files of '' directory

static const cRegularFileWrapper * gWrapperAllFiles_cursorsGenerationTemplate_0 [1] = {
  NULL
} ;

//--- All sub-directories of '' directory

static const cDirectoryWrapper * gWrapperAllDirectories_cursorsGenerationTemplate_0 [1] = {
  NULL
} ;

//--- Directory ''

const cDirectoryWrapper gWrapperDirectory_0_cursorsGenerationTemplate (
  "",
  0,
  gWrapperAllFiles_cursorsGenerationTemplate_0,
  0,
  gWrapperAllDirectories_cursorsGenerationTemplate_0
) ;


//-----------------------------------------------------------------------------*
//                                                                             *
//     Filewrapper template 'cursorsGenerationTemplate cursorsDeclaration'     *
//                                                                             *
//-----------------------------------------------------------------------------*

GALGAS_string filewrapperTemplate_cursorsGenerationTemplate_cursorsDeclaration (C_Compiler * /* inCompiler */,
                                                                                const GALGAS_userCursorMap & in_CURSOR_5F_MAP,
                                                                                const GALGAS_stringlist & in_PREDEFINED_5F_CURSOR_5F_LIST
                                                                                COMMA_UNUSED_LOCATION_ARGS) {
  C_String result ;
  result << "#import <Cocoa/Cocoa.h>\n"
    "\n"
    "//---------------------------------------------------------------------------*\n"
    "//    U S E R    D E F I N E D    C U R S O R S                              *\n"
    "//---------------------------------------------------------------------------*\n"
    "\n" ;
  GALGAS_uint index_284_ (0) ;
  if (in_CURSOR_5F_MAP.isValid ()) {
    cEnumerator_userCursorMap enumerator_284 (in_CURSOR_5F_MAP, kEnumeration_up) ;
    while (enumerator_284.hasCurrentObject ()) {
      result << "NSCursor * " ;
      result << enumerator_284.current_lkey (HERE).mAttribute_string.stringValue () ;
      result << "_cursor (void) ;\n" ;
      index_284_.increment () ;
      enumerator_284.gotoNextObject () ;
    }
  }
  result << "\n"
    "//---------------------------------------------------------------------------*\n"
    "//    P R E D E F I N E D    C U R S O R S                                   *\n"
    "//---------------------------------------------------------------------------*\n"
    "\n" ;
  GALGAS_uint index_607_ (0) ;
  if (in_PREDEFINED_5F_CURSOR_5F_LIST.isValid ()) {
    cEnumerator_stringlist enumerator_607 (in_PREDEFINED_5F_CURSOR_5F_LIST, kEnumeration_up) ;
    while (enumerator_607.hasCurrentObject ()) {
      result << "\n"
        "NSCursor * " ;
      result << enumerator_607.current_mValue (HERE).stringValue () ;
      result << "_cursor (void) ;\n" ;
      index_607_.increment () ;
      enumerator_607.gotoNextObject () ;
    }
  }
  result << "\n"
    "//---------------------------------------------------------------------------*\n"
    "\n" ;
  return GALGAS_string (result) ;
}

//-----------------------------------------------------------------------------*
//                                                                             *
//   Filewrapper template 'cursorsGenerationTemplate cursorsImplementation'    *
//                                                                             *
//-----------------------------------------------------------------------------*

GALGAS_string filewrapperTemplate_cursorsGenerationTemplate_cursorsImplementation (C_Compiler * /* inCompiler */,
                                                                                   const GALGAS_userCursorMap & in_CURSOR_5F_MAP,
                                                                                   const GALGAS_stringlist & in_PREDEFINED_5F_CURSOR_5F_LIST
                                                                                   COMMA_UNUSED_LOCATION_ARGS) {
  C_String result ;
  result << "\n"
    "#import \"cursors.h\"\n"
    "\n"
    "//---------------------------------------------------------------------------*\n"
    "//    U S E R    D E F I N E D    C U R S O R S                              *\n" ;
  GALGAS_uint index_201_ (0) ;
  if (in_CURSOR_5F_MAP.isValid ()) {
    cEnumerator_userCursorMap enumerator_201 (in_CURSOR_5F_MAP, kEnumeration_up) ;
    while (enumerator_201.hasCurrentObject ()) {
      result << "//---------------------------------------------------------------------------*\n"
        "\n"
        "NSCursor * " ;
      result << enumerator_201.current_lkey (HERE).mAttribute_string.stringValue () ;
      result << "_cursor (void) {\n"
        "  NSCursor * cursor ;\n"
        "  NSImage * image = [NSImage imageNamed:@\"" ;
      result << enumerator_201.current_lkey (HERE).mAttribute_string.stringValue () ;
      result << "\"] ;\n"
        "  if (image == nil) {\n"
        "    cursor = [NSCursor arrowCursor] ;\n"
        "  }else{\n"
        "    cursor = [[NSCursor alloc]\n"
        "      initWithImage:image hotSpot:NSMakePoint (" ;
      result << enumerator_201.current_mHotSpotX (HERE).reader_string (SOURCE_FILE_AT_LINE (16)).stringValue () ;
      result << ", " ;
      result << enumerator_201.current_mHotSpotY (HERE).reader_string (SOURCE_FILE_AT_LINE (16)).stringValue () ;
      result << ")\n"
        "    ] ;\n"
        "  }\n"
        "  return cursor ;\n"
        "}\n" ;
      index_201_.increment () ;
      enumerator_201.gotoNextObject () ;
    }
  }
  result << "\n"
    "\n"
    "//---------------------------------------------------------------------------*\n"
    "//    P R E D E F I N E D    C U R S O R S                                   *\n" ;
  GALGAS_uint index_834_ (0) ;
  if (in_PREDEFINED_5F_CURSOR_5F_LIST.isValid ()) {
    cEnumerator_stringlist enumerator_834 (in_PREDEFINED_5F_CURSOR_5F_LIST, kEnumeration_up) ;
    while (enumerator_834.hasCurrentObject ()) {
      result << "//---------------------------------------------------------------------------*\n"
        "\n"
        "NSCursor * " ;
      result << enumerator_834.current_mValue (HERE).stringValue () ;
      result << "_cursor (void) {\n"
        "  return [NSCursor " ;
      result << enumerator_834.current_mValue (HERE).stringValue () ;
      result << "] ;\n"
        "}\n"
        "\n" ;
      index_834_.increment () ;
      enumerator_834.gotoNextObject () ;
    }
  }
  result << "//---------------------------------------------------------------------------*\n"
    "\n" ;
  return GALGAS_string (result) ;
}

//-----------------------------------------------------------------------------*
//                                                                             *
//                        Routine 'generateCursorCode'                         *
//                                                                             *
//-----------------------------------------------------------------------------*

void routine_generateCursorCode (const GALGAS_userCursorMap constinArgument_inUserCursorMap,
                                 const GALGAS_stringlist constinArgument_inPredefinedCursorList,
                                 const GALGAS_string constinArgument_inOutputDirectory,
                                 C_Compiler * inCompiler
                                 COMMA_UNUSED_LOCATION_ARGS) {
  const enumGalgasBool test_0 = GALGAS_bool (kIsEqual, GALGAS_uint::constructor_errorCount (SOURCE_FILE_AT_LINE (28)).objectCompare (GALGAS_uint ((uint32_t) 0U))).operator_and (GALGAS_bool (kIsStrictSup, constinArgument_inUserCursorMap.reader_count (SOURCE_FILE_AT_LINE (28)).objectCompare (GALGAS_uint ((uint32_t) 0U))) COMMA_SOURCE_FILE_AT_LINE (28)).boolEnum () ;
  if (kBoolTrue == test_0) {
    GALGAS_string var_s = GALGAS_string (filewrapperTemplate_cursorsGenerationTemplate_cursorsDeclaration (inCompiler, constinArgument_inUserCursorMap, constinArgument_inPredefinedCursorList COMMA_SOURCE_FILE_AT_LINE (30))) ;
    {
    GALGAS_string::class_method_generateFileWithPattern (constinArgument_inOutputDirectory, GALGAS_string ("cursors.h"), GALGAS_string ("//"), GALGAS_string ("\n"
      "\n"), var_s, GALGAS_string ("\n"
      "\n"), GALGAS_string ("\n"), inCompiler COMMA_SOURCE_FILE_AT_LINE (34)) ;
    }
    var_s = GALGAS_string (filewrapperTemplate_cursorsGenerationTemplate_cursorsImplementation (inCompiler, constinArgument_inUserCursorMap, constinArgument_inPredefinedCursorList COMMA_SOURCE_FILE_AT_LINE (44))) ;
    {
    GALGAS_string::class_method_generateFileWithPattern (constinArgument_inOutputDirectory, GALGAS_string ("cursors.m"), GALGAS_string ("//"), GALGAS_string ("\n"
      "\n"), var_s, GALGAS_string ("\n"
      "\n"), GALGAS_string ("\n"), inCompiler COMMA_SOURCE_FILE_AT_LINE (48)) ;
    }
  }
}


//--- START OF USER ZONE 2


//--- END OF USER ZONE 2


