//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
//  THIS FILE IS GENERATED BY EASY BINDINGS, DO NOT MODIFY IT
//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

import Cocoa

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

extension NSObject {

  //····················································································································

  func ebCleanUp () {
  }

  //····················································································································

}

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
//   MultipleBindingController_hidden
//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

class MultipleBindingController_hidden : EBOutletEvent {

  private let mGetPropertyValueCallBack : () -> EBSelection <Bool>
  private let mOutlet : NSView?
  
  //····················································································································

  init (computeFunction inGetPropertyValueCallBack : @escaping () -> EBSelection <Bool>,
        outlet inOutlet : NSView?) {
    mGetPropertyValueCallBack = inGetPropertyValueCallBack
    mOutlet = inOutlet
    super.init ()
  }

  //····················································································································

   override func sendUpdateEvent () {
    let model = mGetPropertyValueCallBack ()
    switch model {
    case .single (let b) :
      mOutlet?.isHidden = b
    default :
      mOutlet?.isHidden = false
    }
  }

  //····················································································································

}

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
//   Enabled binding
//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

private var gEnabledFromValueBindingDictionary = [NSControl : Bool] ()
private var gEnabledBindingValueDictionary = [NSControl : Bool] ()

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

extension NSControl {

  //····················································································································

  func enableFromValueBinding (_ inValue : Bool) {
    gEnabledFromValueBindingDictionary [self] = inValue
    self.isEnabled = (gEnabledBindingValueDictionary [self] ?? true) && (gEnabledFromValueBindingDictionary [self] ?? true)
  }

  //····················································································································

  func enableFromEnableBinding (_ inValue : Bool) {
    gEnabledBindingValueDictionary [self] = inValue
    self.isEnabled = (gEnabledBindingValueDictionary [self] ?? true) && (gEnabledFromValueBindingDictionary [self] ?? true)
  }

  //····················································································································

  override func ebCleanUp () {
    super.ebCleanUp ()
    gEnabledFromValueBindingDictionary [self] = nil
    gEnabledBindingValueDictionary [self] = nil
  }

  //····················································································································

}

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
//   MultipleBindingController_enabled
//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

class MultipleBindingController_enabled : EBOutletEvent {

  private let mGetPropertyValueCallBack : () -> EBSelection <Bool>
  private let mOutlet : NSControl?
  
  //····················································································································

  init (computeFunction inGetPropertyValueCallBack : @escaping () -> EBSelection <Bool>,
        outlet inOutlet : NSControl?) {
    mGetPropertyValueCallBack = inGetPropertyValueCallBack
    mOutlet = inOutlet
    super.init ()
  }

  //····················································································································

   override func sendUpdateEvent () {
    let model = mGetPropertyValueCallBack ()
    switch model {
    case .single (let b) :
      mOutlet?.enableFromEnableBinding (b)
    default :
      mOutlet?.enableFromEnableBinding (false)
    }
  }

  //····················································································································

//  deinit {
//    if let outlet = mOutlet {
//      gEnabledBindingValueDictionary [outlet] = nil
//    }
//  }

  //····················································································································

}

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
