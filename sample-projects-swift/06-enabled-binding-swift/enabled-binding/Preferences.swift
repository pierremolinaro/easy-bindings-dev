//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
//  THIS FILE IS GENERATED BY EASY BINDINGS, DO NOT MODIFY IT
//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

import Cocoa

//————————————————————————————————————————————————————————————————————————————————————————————————————————————————————*

var g_Preferences : Preferences? = nil

//————————————————————————————————————————————————————————————————————————————————————————————————————————————————————*

let Preferences_prefBoolean = "Preferences:prefBoolean"

//————————————————————————————————————————————————————————————————————————————————————————————————————————————————————*

@objc(Preferences) class Preferences : EBObject, NSWindowDelegate {

  //····················································································································
  //   Atomic property: prefBoolean
  //····················································································································

  var prefBoolean_property = EBStoredProperty_Bool (true, prefKey: Preferences_prefBoolean)

  //····················································································································

  var prefBoolean : Bool {
    get {
      return self.prefBoolean_property.propval
    }
    set {
      self.prefBoolean_property.setProp (newValue)
    }
  }

  //····················································································································

  var prefBoolean_property_selection : EBSelection <Bool> {
    return self.prefBoolean_property.prop
  }

  //····················································································································
  //    Outlets
  //····················································································································

  @IBOutlet var prefBoolCheckBox : EBSwitch? = nil

  //····················································································································
  //    Multiple bindings controllers
  //····················································································································


  //····················································································································
  //    Undo Manager
  //····················································································································

  private var undoManager = EBUndoManager ()

  //····················································································································
  // The preferences window should register this object as delegate (do it in Interface Builder)

  @objc func windowWillReturnUndoManager (_ window: NSWindow) -> UndoManager? {
    return self.undoManager
  }

  //····················································································································
  //    Init
  //····················································································································

  override init () {
    super.init ()
    g_Preferences = self ;
  //--- Read from preferences
  //--- Atomic property: prefBoolean
    self.prefBoolean_property.undoManager = self.undoManager
  //--- Notify application will terminate
    NotificationCenter.default.addObserver (self,
      selector:#selector(Preferences.applicationWillTerminateAction(_:)),
      name:NSApplication.willTerminateNotification,
      object:nil
    )
  //--- Extern functions
  }

  //····················································································································
  //    awakeFromNib
  //····················································································································

  override func awakeFromNib () {
    if let outlet : Any = self.prefBoolCheckBox {
      if !(outlet is EBSwitch) {
        presentErrorWindow (file: #file,
                            line: #line,
                            errorMessage: "the 'prefBoolCheckBox' outlet is not an instance of 'EBSwitch'") ;
      }
    }else{
      presentErrorWindow (file: #file,
                          line: #line,
                          errorMessage: "the 'prefBoolCheckBox' outlet is nil") ;
    }
  //--------------------------- Install bindings
    prefBoolCheckBox?.bind_value (self.prefBoolean_property, file: #file, line: #line)
  //--------------------------- Install multiple bindings
  //--------------------------- Array controller
  //--------------------------- Set targets / actions
  //--------------------------- Extern functions
  }

  //····················································································································
  //    applicationWillTerminateAction
  //····················································································································

  @objc func applicationWillTerminateAction (_ : NSNotification) {
  //--------------------------- Array controller
  }

  //····················································································································

}

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

