//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
//  THIS FILE IS GENERATED BY EASY BINDINGS, DO NOT MODIFY IT
//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

import Cocoa

//————————————————————————————————————————————————————————————————————————————————————————————————————————————————————*

var g_Preferences : Preferences? = nil

//————————————————————————————————————————————————————————————————————————————————————————————————————————————————————*

@objc(Preferences) class Preferences : EBObject {

  //····················································································································
  //    Outlets
  //····················································································································

  @IBOutlet var prefBoolCheckBox : EBSwitch? = nil
  //····················································································································
  //   Accessing prefBoolean stored property
  //····················································································································

  var prefBoolean : Bool {
    get {
      return self.prefBoolean_property.propval
    }
    set {
      self.prefBoolean_property.setProp (newValue)
    }
  }

  var prefBoolean_property_selection : EBSelection <Bool> {
    get {
      return self.prefBoolean_property.prop
    }
  }

  //····················································································································
  //    Simple Stored Properties
  //····················································································································

  var prefBoolean_property = EBStoredProperty_Bool (true)

  //····················································································································
  //    Stored Array Properties
  //····················································································································


  //····················································································································
  //    Transient properties
  //····················································································································



  //····················································································································
  //    Array Controllers
  //····················································································································



  //····················································································································
  //    Init
  //····················································································································

  override init () {
    super.init ()
    g_Preferences = self ;
  //--- Read from preferences
    self.prefBoolean_property.readInPreferencesWithKey (inKey:"Preferences:prefBoolean")
  //--- Property validation function
  //---
    NotificationCenter.default.addObserver (self,
     selector:#selector(Preferences.applicationWillTerminateAction(_:)),
     name:NSNotification.Name.NSApplicationWillTerminate,
     object:nil
    )
  //--- Extern functions
  }

  //····················································································································
  //    awakeFromNib
  //····················································································································

  override func awakeFromNib () {
  //--- Check prefBoolCheckBox' outlet not nil
    if nil == prefBoolCheckBox {
      presentErrorWindow (file: #file, line: #line, errorMessage: "the 'prefBoolCheckBox' outlet is nil")
    }
  //--- Install compute functions for transients
  //--- Install property observers for transients
  //--- Install bindings
    prefBoolCheckBox?.bind_value (self.prefBoolean_property, file: #file, line: #line)
  //--- Install multiple bindings
  //--------------------------- Array controller
  //--------------------------- Set targets / actions
  //--- Extern functions
  }
  
  //····················································································································
  //    applicationWillTerminateAction
  //····················································································································

  func applicationWillTerminateAction (_ : NSNotification) {
    self.prefBoolean_property.storeInPreferencesWithKey (inKey:"Preferences:prefBoolean")
  }

  //····················································································································

}

//—————————————————————————————————————————————————————————————————————————————————————————————————————————————————————*

