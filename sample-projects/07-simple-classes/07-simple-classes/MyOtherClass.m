//---------------------------------------------------------------------------*
//                                                                           *
//                          File 'MyOtherClass.m'                            *
//                        Generated by version 0.0.1                         *
//                    november 13th, 2012, at 22h32'52"                      *
//                                                                           *
//---------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

#import "PMTransientDependancyManager.h"
#import "MyOtherClass.h"
#import "MyOtherClass-transient-computations.h"

//----------------------------------------------------------------------------*

@implementation MyOtherClass

//----------------------------------------------------------------------------*
//    Synthesize properties                                                   *
//----------------------------------------------------------------------------*

@synthesize chose ;

//----------------------------------------------------------------------------*
//    Init Method                                                             *
//----------------------------------------------------------------------------*

- (id) initWithMyBool: (BOOL) inMyBool
       withMyInteger32: (SInt32) inMyInteger32
       withMyString: (NSString *) inMyString
       withChose: (BOOL) inChose {
  self = [super
    initWithMyBool:inMyBool
    withMyInteger32:inMyInteger32
    withMyString:inMyString
  ] ;
  if (self) {  
    chose = inChose ;
    [self pmInstallObserversForTransients] ;
  }
  return self ;
}

//----------------------------------------------------------------------------*
//   T R A N S I E N T    I M P L E M E N T A T I O N                         *
//----------------------------------------------------------------------------*

- (void) pmInstallObserversForTransients {
  // NSLog (@"%s", __PRETTY_FUNCTION__) ;
  [super pmInstallObserversForTransients] ;
  [self
    addObserver:self
    forKeyPath:@"chose"
    options:0
    context:NULL
  ] ;
}

//----------------------------------------------------------------------------*

- (void) pmUninstallObserversForTransients {
  // NSLog (@"%s", __PRETTY_FUNCTION__) ;
  [super pmUninstallObserversForTransients] ;
  [self
    removeObserver:self
    forKeyPath:@"chose"
  ] ;
}

//----------------------------------------------------------------------------*

- (void) observeValueForKeyPath:(NSString *) inKeyPath
         ofObject:(id) inObject
         change:(NSDictionary *) inChange
         context:(void *) inContext {
  // NSLog (@"%s, key %@", __PRETTY_FUNCTION__, inKeyPath) ;
  if ([inKeyPath isEqualToString:@"chose"]) {
    bidule__computed = NO ;
    [PMTransientDependancyManager
      enterTriggerForObject:self
      transientIndex:class_2F_MyOtherClass_2F_self_2E_bidule
    ] ;
  }else{
    [super
      observeValueForKeyPath:inKeyPath
      ofObject:inObject
      change:inChange
      context:inContext
    ] ;
  }
}

//----------------------------------------------------------------------------*

- (NSString *) bidule {
  if (! bidule__computed) {
    bidule__cache = compute_MyOtherClass_bidule (self.chose, self.schmurtz) ;
    bidule__computed = YES ;
  }
  return bidule__cache.copy ;
}

//----------------------------------------------------------------------------*

//--- START OF USER ZONE 2


//--- END OF USER ZONE 2

@end
