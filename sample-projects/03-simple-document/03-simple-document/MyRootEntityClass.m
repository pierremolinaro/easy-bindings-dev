//---------------------------------------------------------------------------*
//                                                                           *
//                        File 'MyRootEntityClass.m'                         *
//                    Generated by version 0.0.1 [debug]                     *
//                    december 22th, 2012, at 16h57'31"                      *
//                                                                           *
//---------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

#import "easy-bindings-utilities.h"
#import "PMAllocationDebug.h"
#import "PMTransientDependancyManager.h"
#import "MyRootEntityClass.h"
#import "MyRootEntityClass-transient-computations.h"


//----------------------------------------------------------------------------*

@implementation MyRootEntityClass

//----------------------------------------------------------------------------*
//    Synthesize properties                                                   *
//----------------------------------------------------------------------------*

//--- Attributes
@dynamic myString ;
@dynamic myEnumeration ;
@dynamic myColor ;

//--- To-one relationships

//--- To-many relationships

//----------------------------------------------------------------------------*
//    Creation Class Method                                                   *
//----------------------------------------------------------------------------*

+ (MyRootEntityClass *) pmInsertNewObjectIntoManagedObjectContext:(NSManagedObjectContext *) inContext {
  return [NSEntityDescription insertNewObjectForEntityForName:@"MyRootEntity" inManagedObjectContext:inContext] ;
}

//----------------------------------------------------------------------------*
//    initWithEntity:insertIntoManagedObjectContext:                          *
//----------------------------------------------------------------------------*

- (id) initWithEntity:(NSEntityDescription *) inEntity
       insertIntoManagedObjectContext:(NSManagedObjectContext *) inManagedObjectContext {
  self = [super 
    initWithEntity:inEntity
    insertIntoManagedObjectContext:inManagedObjectContext
  ] ;
  if (self) {
    macroNoteObjectAllocation (self) ;
  //--- Add Transient observers
  }
  return self ;
}

//----------------------------------------------------------------------------*
//    Dealloc                                                                 *
//----------------------------------------------------------------------------*

- (void) dealloc {
  macroNoteObjectDeallocation (self) ;
}

//----------------------------------------------------------------------------*
//    didTurnIntoFault                                                        *
//----------------------------------------------------------------------------*

- (void) didTurnIntoFault {
//--- Remove Transient observers
//---
  [super didTurnIntoFault] ;
}

//----------------------------------------------------------------------------*
//    didChangeValueForKey:withSetMutation:usingObjects:                      *
//----------------------------------------------------------------------------*

- (void) didChangeValueForKey: (NSString *) inKey
         withSetMutation: (NSKeyValueSetMutationKind)inMutationKind
         usingObjects: (NSSet *) inObjects {
  [super
    didChangeValueForKey:inKey
    withSetMutation:inMutationKind
    usingObjects:inObjects
  ] ;
  if ([inKey isEqualToString:@"myColor"]) {
    [myColor_observers makeObjectsPerformSelector:@selector (entity_2E_MyRootEntity_2E_myColor_didChange)] ;
  }else if ([inKey isEqualToString:@"myEnumeration"]) {
    [myEnumeration_observers makeObjectsPerformSelector:@selector (entity_2E_MyRootEntity_2E_myEnumeration_didChange)] ;
  }else if ([inKey isEqualToString:@"myString"]) {
    [myString_observers makeObjectsPerformSelector:@selector (entity_2E_MyRootEntity_2E_myString_didChange)] ;
  //--- Trigger 'myStringMaj transient'
    if (myStringMaj__computed) {
      myStringMaj__computed = NO ;
      [PMTransientDependancyManager
        enterTriggerForObject:self
        transientIndex:entity_2E_MyRootEntity_2E_myStringMaj
      ] ;
    }
  //--- Trigger 'myStringMin transient'
    if (myStringMin__computed) {
      myStringMin__computed = NO ;
      [PMTransientDependancyManager
        enterTriggerForObject:self
        transientIndex:entity_2E_MyRootEntity_2E_myStringMin
      ] ;
    }
  //--- Trigger 'myStringConcat transient'
    if (myStringConcat__computed) {
      myStringConcat__computed = NO ;
      [PMTransientDependancyManager
        enterTriggerForObject:self
        transientIndex:entity_2E_MyRootEntity_2E_myStringConcat
      ] ;
    }
  }
}

//----------------------------------------------------------------------------*

- (void) addObserverOf_myString: (id) inObserver {
  if (nil == myString_observers) {
    myString_observers = [NSMutableSet new] ;
  }
  [myString_observers addObject:inObserver] ;
  [inObserver performSelector:@selector (MyRootEntityClass_myString_didChange)] ;
}

//----------------------------------------------------------------------------*

- (void) removeObserverOf_myString: (id) inObserver {
  [myString_observers removeObject:inObserver] ;
  [inObserver performSelector:@selector (MyRootEntityClass_myString_didChange)] ;
}


//----------------------------------------------------------------------------*

- (void) addObserverOf_myEnumeration: (id) inObserver {
  if (nil == myEnumeration_observers) {
    myEnumeration_observers = [NSMutableSet new] ;
  }
  [myEnumeration_observers addObject:inObserver] ;
  [inObserver performSelector:@selector (MyRootEntityClass_myEnumeration_didChange)] ;
}

//----------------------------------------------------------------------------*

- (void) removeObserverOf_myEnumeration: (id) inObserver {
  [myEnumeration_observers removeObject:inObserver] ;
  [inObserver performSelector:@selector (MyRootEntityClass_myEnumeration_didChange)] ;
}


//----------------------------------------------------------------------------*

- (void) addObserverOf_myColor: (id) inObserver {
  if (nil == myColor_observers) {
    myColor_observers = [NSMutableSet new] ;
  }
  [myColor_observers addObject:inObserver] ;
  [inObserver performSelector:@selector (MyRootEntityClass_myColor_didChange)] ;
}

//----------------------------------------------------------------------------*

- (void) removeObserverOf_myColor: (id) inObserver {
  [myColor_observers removeObject:inObserver] ;
  [inObserver performSelector:@selector (MyRootEntityClass_myColor_didChange)] ;
}

//----------------------------------------------------------------------------*
// Cache routine of 'myStringMaj' transient     *
//----------------------------------------------------------------------------*

- (NSString *) myStringMaj {
  if (! myStringMaj__computed) {
    myStringMaj__cache = compute_MyRootEntityClass_myStringMaj (self.myString) ;
    myStringMaj__computed = YES ;
  }
  return myStringMaj__cache.copy ;
}

//----------------------------------------------------------------------------*
// Cache routine of 'myStringMin' transient     *
//----------------------------------------------------------------------------*

- (NSString *) myStringMin {
  if (! myStringMin__computed) {
    myStringMin__cache = compute_MyRootEntityClass_myStringMin (self.myString) ;
    myStringMin__computed = YES ;
  }
  return myStringMin__cache.copy ;
}

//----------------------------------------------------------------------------*
// Cache routine of 'myStringConcat' transient     *
//----------------------------------------------------------------------------*

- (NSString *) myStringConcat {
  if (! myStringConcat__computed) {
    myStringConcat__cache = compute_MyRootEntityClass_myStringConcat (self.myStringMaj, self.myStringMin) ;
    myStringConcat__computed = YES ;
  }
  return myStringConcat__cache.copy ;
}

//----------------------------------------------------------------------------*

//--- START OF USER ZONE 2


//--- END OF USER ZONE 2

@end
